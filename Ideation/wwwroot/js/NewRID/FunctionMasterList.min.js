function GetFunctionData(){$.ajax({type:"GET",url:ROOT+"NewRID/GetFunctionList",success:function(n){createGrid(n)}})}function createGrid(n){$.jgrid.gridUnload("#function_list");jQuery("#function_list").jqGrid({datatype:"local",data:n,colModel:functioncolmodels,loadonce:!0,pager:"#pager_expected1_",viewrecords:!0,ignoreCase:!0,rowNum:n.length,sortable:!1,cmTemplate:{sortable:!1},scroll:1,gridComplete:function(){var t=$("#function_list tbody tr"),r=$("#function_list tbody tr td"),n;if(t.length>1)for(n=$(t[1]).children("td"),i=0;i<n.length;i++)$(n[i]).css("width",$(r[i]).css("width"))}});$("#function_list").jqGrid("filterToolbar",{autosearch:!0,stringResult:!1,searchOnEnter:!1,defaultSearch:"cn"});$("#function_list").closest(".ui-jqgrid-bdiv").css({"max-height":"55vh"});$("#function_list").closest(".ui-jqgrid-bdiv").children("div").css({"min-height":"10vh"});var t=$("#function_list").closest(".ui-jqgrid-bdiv").find("tbody").height();t>280?($("#function_list").closest(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$("#function_list").closest(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","5px")):($("#function_list").closest(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$("#function_list").closest(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","0px"));$("#function_list").closest("#gview_function_list").css({"z-index":"0"})}function EditFunction(n){var i=n.getAttribute("data-functionid"),r=n.getAttribute("data-functionname"),t=n.getAttribute("data-status")=="true"?!0:!1;$("#FunctionName").val(r);$("#FunctionId").val(i);$("#Status").val(t);t?$("#Filter_Active").prop("checked",!0):$("#Filter_InActive").prop("checked",!0);$(".showStatus").css("display","block !important")}function DeleteFunction(n){var t=n.getAttribute("data-functionid");$("#confirmpopup").modal("show");$("#ConfirmOKbutton").on("click",function(){$.ajax({type:"POST",url:ROOT+"NewRID/DeleteFunction",data:{functionId:t},success:function(n){n.includes("Successfully")?window.location.reload():alert(n)},error:function(){alert("Error occured!!")}})})}$(document).ready(function(){$("#FunctionId").val(0);$(".showStatus").css("display","none !important");$("#Status").val(!0);GetFunctionData()});var functioncolmodels=[{name:"Action",label:"Action",width:50,resizable:!0,ignoreCase:!0,search:!1,formatter:function(n,t,i){return'<div class="justify-center_ action_icons" style="text-align:center;"><a href="#" class="btn-icon edit-color " onclick="EditFunction(this)" data-functionid="'+i.FunctionId+'" data-functionname = "'+i.FunctionName+'" data-status='+i.Status+' title="Edit"><i class="fas fa-pen""><\/i><\/a><\/div>'}},{name:"FunctionId",label:"Function Id",resizable:!0,ignoreCase:!0,search:!0,width:100,hidden:!0},{name:"FunctionName",label:"Function Name",resizable:!0,ignoreCase:!0,search:!0,width:100},{name:"StatusName",label:"Status",resizable:!0,ignoreCase:!0,search:!0,width:100,formatter:function(n,t,i){return i.Status===!0?'<span class="text-success">'+i.StatusName+"<\/span>":'<span class="text-danger">'+i.StatusName+"<\/span>"}},];$("input[name=StatusType]").click(function(){var n=$("#Filter_Active").is(":checked");n?$("#Status").val(!0):$("#Status").val(!1)});$("#savebtn").on("click",function(){var t=!0,i=$("#FunctionId").val(),n=$("#FunctionName").val().trim(),r=$("#Status").val()=="true"?!0:!1;(n==""||n==null||n=="undefined")&&(t=!1,$("#FunctionName_valid").show());t&&$.ajax({type:"POST",url:ROOT+"NewRID/SaveFunction",data:{functionId:i,functionName:n,status:r},success:function(n){n.toLowerCase().includes("success")?($("#FunctionName").val(""),window.location.reload()):alert(n)}})});$("#exceldownload").on("click",function(){var n=!0,t=$("#function_list").jqGrid("getGridParam","data");t.length===0&&(alert("There is no data present in the grid"),n=!1);n&&(window.location.href=ROOT+"NewRID/GetFunctionMasterExcelData")});