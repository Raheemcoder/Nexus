function NPDListLoad(){var n=$("#NpdHmlDivision").val(),t=$("#NpdHgmlCategory").val(),i=$("#NpdHgmlProductGroup").val(),r=$("#NpdHgmlSubCategory").val();$.ajax({type:"POST",url:ROOT+"NPDLaunchMaster/MyapprovalPendingHeaderData",data:{division:n,category:t,productGroup:i,subCategory:r},success:function(n){var t=JSON.parse(n);$("#MyApprovalPending_Grid").jqGrid("clearGridData");$("#MyApprovalPending_Grid").jqGrid("setGridParam",{data:t});$("#MyApprovalPending_Grid").trigger("reloadGrid",[{page:1}])},error:function(){alert("Error occured!!")}})}function getmaterialcodeonly(n){var u=$(n).closest("tr"),t=$("#MyApprovalPending_Grid"),i=$(n).closest("tr.jqgrow").attr("id"),r=t.jqGrid("getCell",i,"MaterialCode");return{MaterialCode:r}}function getchecckedRowData(n){var t=$(n).closest("tr"),i=$("#MyApprovalPending_Grid"),r=$(n).closest("tr.jqgrow").attr("id"),u=i.jqGrid("getCell",r,"MaterialCode"),f=$(t).children().find(".HGMLCategory").val()!=undefined?$(t).children().find(".HGMLCategory").val():i.jqGrid("getCell",r,"HGMLCategory"),e=$(t).children().find(".HGMLSubCategory").val()!=undefined?$(t).children().find(".HGMLSubCategory").val():i.jqGrid("getCell",r,"HGMLSubCategory"),o=$(t).children().find(".ProductGroup").val()!=undefined?$(t).children().find(".ProductGroup").val():i.jqGrid("getCell",r,"ProductGroup"),s=$(t).children().find(".IsNPD").val()!=undefined?$(t).children().find(".IsNPD").val():i.jqGrid("getCell",r,"IsNPD"),h=$(t).children().find(".BusinessLaunchDate").val()!=undefined?$(t).children().find(".BusinessLaunchDate").val():i.jqGrid("getCell",r,"BusinessLaunchDate"),c=$(t).children().find(".RandDLaunchDate").val()!=undefined?$(t).children().find(".RandDLaunchDate").val():i.jqGrid("getCell",r,"RandDLaunchDate"),l=$(t).find(".HGMLDivision").val()!=undefined?$(t).find(".HGMLDivision").val():i.jqGrid("getCell",r,"HGMLDivision"),a=$.trim($(n).closest("tr").find("td.HGMLFormulation").text());return{MaterialCode:u,IsNPD:s,BusinessLaunchDate:h,RandDLaunchDate:c,HGMLCategory:f,HGMLSubCategory:e,ProductGroup:o,HGMLDivision:l,HGMLFormulation:a}}function SingleApproveOrReject(n,t){$("#ByClick_OK").prop("disabled",!1);$("#RejectClick_OK").prop("disabled",!1);var i=[];$("#MyApprovalPending_Grid tr").each(function(){if($(this).find(".materialcode").text()==n){var t=getchecckedRowData(this);i.push(t)}});t=="Yes"?($("#Approve").modal("show"),$("#ByClick_OK").click(function(){$("#SaveMyApprovalData").val(JSON.stringify(i));document.getElementById("MyApprovalPending_Form_Submit").submit();$("#ByClick_OK").prop("disabled",!0)})):t=="No"&&($("#Reject").modal("show"),$("#RejectClick_OK").click(function(){var n=$.trim($("#RemarksforReject").val());if(n=="")return $("#Error_RejectRemarks").show(),!1;$("#RejectRemarks").val(n);$("#SaveMyApprovalData").val(JSON.stringify(i));document.getElementById("MyApprovalPending_Form_Submit").submit();$("#RejectClick_OK").prop("disabled",!0)}))}function checkBox(n){n=n||event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!1;var t=document.getElementById("cbox"),i=t.checked;i?($("#MyApprovalPending_Grid .checkbox").prop("checked",!0),$("#MyApprovalPending_Grid tr").addClass("show_edit")):($("#MyApprovalPending_Grid .checkbox").prop("checked",!1),$("#MyApprovalPending_Grid tr").removeClass("show_edit"))}var myApprovalPendingData=$.parseJSON($("#MyApprovalPendingData").val()),CategoryList=$.parseJSON($("#CategoryString").val()),ProductList=$.parseJSON($("#ProductString").val()),SubCategoryList=$.parseJSON($("#SubCategoryString").val()),UserName=$("#UserName").val(),isNpdList=$.parseJSON($("#IsNpdList_Serialized").val()),checkedData=[],selectedbox=[],ProductcheckedData=[],catcheckedData=[],$TableHeight,subCategoryValues;colmodels=[{name:"Check_Box",label:'<input type="checkbox" id="cbox" onclick="checkBox(event)"/>',editable:!0,index:"Check_Box",width:60,align:"left",resizable:!1,edittype:"checkbox",formatoptions:{disabled:!1},editoptions:{value:"True:False"},sortable:!1,search:!1,formatter:function(n,t){var i="checkbox_"+t.rowId;return'<input type="checkbox" id="'+i+'" class="checkbox" />'}},{name:"Action",label:"Action",width:90,resizable:!0,ignoreCase:!0,search:!1,formatter:function(n,t,i){return'<div class="text-center "><div><span class="btn-icon -edit" title="Approve" onclick=SingleApproveOrReject('+i.MaterialCode+',"Yes")><i class="fas fa-thumbs-up"><\/i><\/span><span title="Reject" class="btn-icon -delete" onclick=SingleApproveOrReject('+i.MaterialCode+',"No") data-bs-toggle="modal" data-bs-target="#reject" ><i class="fas fa-thumbs-down"><\/i><\/span><\/div><\/div>'}},{name:"MaterialCode",label:"Material Code",resizable:!0,ignoreCase:!0,width:100,classes:"materialcode"},{name:"MaterialName",label:"Material Name",resizable:!0,ignoreCase:!0,width:200},{name:"CreatedDate",label:"Material Created Date",resizable:!0,ignoreCase:!0,width:100,sorttype:"date",formatter:"date",formatoptions:{newformat:"d-m-Y"},exportcol:!1},{name:"MaterialCreatedDate",label:"Material Created Date",resizable:!0,ignoreCase:!0,width:100,hidden:!0,exportcol:!0},{name:"ProductGroup",label:"HGML Product Group",resizable:!0,ignoreCase:!0,exportcol:!1,title:!1,formatter:function(n,t,i){var f,u,r;if(productString="",f=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),u=f>=0?checkedData[f].ProductGroup:i.ProductGroup,u==""||u==null||u==undefined){for(r=0;r<ProductList.length;r++)productString+='<option value="'+ProductList[r].Value+'">'+ProductList[r].Value+"<\/option>";return`<div class="text-left "> 
                              <select class="form-control appearence ProductGroup data-singleselect" id=`+i.MaterialCode+`ProductGroup'> <option value="" >Select</option>`+productString+`</select>
                        </div>`}if(u!=i.ProductGroup){for(r=0;r<ProductList.length;r++)productString+=ProductList[r].Value==u?'<option value="'+ProductList[r].Value+'" selected>'+ProductList[r].Value+"<\/option>":'<option value="'+ProductList[r].Value+'">'+ProductList[r].Value+"<\/option>";return i.ProductGroup!=null?`<div class="text-left "> 
                    <select class="form-control  appearence ProductGroup data-singleselect" id=`+i.MaterialCode+`ProductGroup'>`+productString+`</select> 
                      </div>`:`<div class="text-left "> 
                    <select class="form-control  appearence ProductGroup data-singleselect" id=`+i.MaterialCode+`ProductGroup'> <option value="" >Select</option>`+productString+`</select> 
                      </div>`}for(r=0;r<ProductList.length;r++)productString+=ProductList[r].Value==i.ProductGroup?'<option value="'+ProductList[r].Value+'" selected>'+ProductList[r].Value+"<\/option>":'<option value="'+ProductList[r].Value+'">'+ProductList[r].Value+"<\/option>";return`<div class="text-left "> 
                    <select class="form-control  appearence ProductGroup data-singleselect" id=`+i.MaterialCode+`ProductGroup'>`+productString+`</select> 
                       </div>`}},{name:"HGMLSubCategory",label:"HGML Sub Category",resizable:!0,ignoreCase:!0,exportcol:!1,title:!1,formatter:function(n,t,i){var h=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),f,e,s,c,o,u,r;if((f=h>=0?checkedData[h].HGMLSubCategory:i.HGMLSubCategory,subCategoryString="",h=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),e=h>=0?checkedData[h].ProductGroup:i.ProductGroup,h=ProductcheckedData.findIndex(n=>n.materialCode==i.MaterialCode&&n.productgroup==e),s=h>=0?ProductcheckedData[h].subCategory:i.HGMLSubCategory,i.HGMLSubCategoryOptions!=""&&i.HGMLSubCategoryOptions!=null&&(c=i.HGMLSubCategoryOptions.split(",")),(f==""||f==null||f==undefined)&&(e==""||e==null||e==undefined))||f!=""&&f!=null&&f!=undefined&&(e==""||e==null||e==undefined))return'<div class="text-left"><select class="form-control appearence HGMLSubCategory data-singleselect" id="'+i.MaterialCode+'HGMLSubCategory"><option value="" >Select<\/option><\/select><\/div>';if(e!=null&&e!=""&&e!=undefined&&(f==""||f==null||f==undefined)&&(s==null||s=="")){for(o=c,subCategoryString='<option value="" >Select<\/option>',r=0;r<o.length;r++)subCategoryString+='<option class="SubCategoryOption" value="'+o[r]+'">'+o[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLSubCategory data-singleselect" id=`+i.MaterialCode+`HGMLSubCategory'>`+subCategoryString+`</select> 
                           </div>`}if(e!=null&&e!=""&&e!=undefined&&i.HGMLSubCategory!=null&&i.HGMLSubCategory!=""&&i.HGMLSubCategory!=undefined&&f==i.HGMLSubCategory&&c!=undefined){for(o=c,subCategoryString='<option value="" >Select<\/option>',r=0;r<o.length;r++)subCategoryString+=i.HGMLSubCategory==o[r]?'<option class="SubCategoryOption" value="'+o[r]+'" selected>'+o[r]+"<\/option>":'<option class="SubCategoryOption" value="'+o[r]+'">'+o[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLSubCategory data-singleselect" id=`+i.MaterialCode+`HGMLSubCategory'>`+subCategoryString+`</select> 
                           </div>`}if(f!=i.HGMLSubCategory){if(s!=""&&s!=null?u=s.split(","):(i.HGMLSubCategoryOptions!=""||i.HGMLSubCategoryOptions!=null)&&(u=c),u.length!=0)for(r=0;r<u.length;r++)subCategoryString+=u[r]===f?'<option class="SubCategoryOption" value="'+u[r]+'" selected>'+u[r]+"<\/option>":'<option class="SubCategoryOption" value="'+u[r]+'">'+u[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLSubCategory data-singleselect" id=`+i.MaterialCode+`HGMLSubCategory'><option value="" >Select</option>`+subCategoryString+`</select> 
                           </div>`}if(s!=""&&s!=null?u=s.split(","):(i.HGMLSubCategoryOptions!=""||i.HGMLSubCategoryOptions!=null)&&(u=c),u.length!=0)for(r=0;r<u.length;r++)subCategoryString+=u[r]===f?'<option class="SubCategoryOption" value="'+u[r]+'" selected>'+u[r]+"<\/option>":'<option class="SubCategoryOption" value="'+u[r]+'">'+u[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLSubCategory data-singleselect" id=`+i.MaterialCode+`HGMLSubCategory'><option value="" >Select</option>`+subCategoryString+`</select> 
                           </div>`}},{name:"HGMLCategory",label:"HGML Category",resizable:!0,ignoreCase:!0,exportcol:!1,title:!1,formatter:function(n,t,i){var h=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),e,f,s,c,o,u,r;if((e=h>=0?checkedData[h].HGMLCategory:i.HGMLCategory,categoryString="",h=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),f=h>=0?checkedData[h].HGMLSubCategory:i.HGMLSubCategory,h=catcheckedData.findIndex(n=>n.materialCode==i.MaterialCode&&n.subcategory==f),s=h>=0?catcheckedData[h].categoryValues:i.HGMLCategory,i.HGMLCategoryOptions!=""&&i.HGMLCategoryOptions!=null&&(c=i.HGMLCategoryOptions.split(",")),(e==""||e==null||e==undefined||e!=""&&e!=null&&e!=undefined)&&(f==""||f==null||f==undefined))||(f==""||f==null||f==undefined||f!=null&&f!=""&&f!=undefined)&&(i.ProductGroup==null||i.ProductGroup==""||i.ProductGroup==undefined))return'<div class="text-left"><select class="form-control appearence HGMLCategory data-singleselect" id="'+i.MaterialCode+'HGMLCategory"><option value="" >Select<\/option><\/select><\/div>';if(f!=null&&f!=""&&f!=undefined&&i.ProductGroup!=null&&i.ProductGroup!=""&&i.ProductGroup!=undefined&&(e==""||e==null||e==undefined)&&(s==null||s=="")){for(o=c,categoryString='<option value="" >Select<\/option>',r=0;r<o.length;r++)categoryString+='<option class="CategoryOption" value="'+o[r]+'">'+o[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLCategory data-singleselect" id=`+i.MaterialCode+`HGMLCategory'>`+categoryString+`</select> 
                           </div>`}if(f!=null&&f!=""&&f!=undefined&&i.HGMLCategory!=null&&i.HGMLCategory!=""&&i.HGMLCategory!=undefined&&e==i.HGMLCategory&&i.HGMLProductgroup!=null&&i.HGMLProductgroup!=""&&i.HGMLProductgroup!=undefined){for(o=c,categoryString='<option value="" >Select<\/option>',r=0;r<o.length;r++)categoryString+=i.HGMLCategory==o[r]?'<option class="CategoryOption" value="'+o[r]+'" selected>'+o[r]+"<\/option>":'<option class="CategoryOption" value="'+o[r]+'">'+o[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLCategory data-singleselect" id=`+i.MaterialCode+`HGMLCategory'>`+categoryString+`</select> 
                           </div>`}if(e!=i.HGMLCategory){if(s!=""&&s!=null?u=s.split(","):(i.HGMLCategoryOptions!=""||i.HGMLCategoryOptions!=null)&&(u=c),u!=undefined)for(r=0;r<u.length;r++)categoryString+=u[r]===e?'<option class="CategoryOption" value="'+u[r]+'" selected>'+u[r]+"<\/option>":'<option class="CategoryOption" value="'+u[r]+'">'+u[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLCategory data-singleselect" id=`+i.MaterialCode+`HGMLCategory'><option value="" >Select</option>`+categoryString+`</select> 
                           </div>`}if(s!=""&&s!=null?u=s.split(","):(i.HGMLCategoryOptions!=""||i.HGMLCategoryOptions!=null)&&(u=c),u!=undefined)for(r=0;r<u.length;r++)categoryString+=u[r]===e?'<option class="CategoryOption" value="'+u[r]+'" selected>'+u[r]+"<\/option>":'<option class="CategoryOption" value="'+u[r]+'">'+u[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLCategory data-singleselect" id=`+i.MaterialCode+`HGMLCategory'><option value="" >Select</option>`+categoryString+`</select> 
                           </div>`}},{name:"HGMLDivision",label:"HGML Division",resizable:!0,ignoreCase:!0,width:120,exportcol:!1,title:!1,exportcol:!1,formatter:function(n,t,i){var c=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),s="",c=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),e,f,h,l,o,u,r;if((e=c>=0?checkedData[c].HGMLDivision:i.HGMLDivision,c=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),f=c>=0?checkedData[c].HGMLSubCategory:i.HGMLSubCategory,c=catcheckedData.findIndex(n=>n.materialCode==i.MaterialCode&&n.subcategory==f),h=c>=0?catcheckedData[c].divisionValues:i.HGMLDivision,i.HGMLDivisionOptions!=""&&i.HGMLDivisionOptions!=null&&(l=i.HGMLDivisionOptions.split(",")),(e==null||e==""||e==undefined||e!=null&&e!=""&&e!=undefined)&&(f==null||f==""||f==undefined))||(f==""||f==null||f==undefined||f!=null&&f!=""&&f!=undefined)&&(i.ProductGroup==null||i.ProductGroup==""||i.ProductGroup==undefined))return'<div class="text-left "><select class="form-control appearence HGMLDivision data-singleselect" id="'+i.MaterialCode+'HGMLDivision"><option value="" >Select<\/option><\/select><\/div>';if(f!=null&&f!=""&&typeof f!="undefined"&&i.ProductGroup!=null&&i.ProductGroup!=""&&i.ProductGroup!=undefined&&(e==""||e==null||e==undefined)&&(h==null||h=="")){for(o=l,s='<option value="" >Select<\/option>',r=0;r<o.length;r++)s+='<option class="DivisionOption" value="'+o[r]+'">'+o[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLDivision data-singleselect" id=`+i.MaterialCode+`HGMLDivision'>`+s+`</select> 
                           </div>`}if(f!=null&&f!=""&&typeof f!="undefined"&&i.HGMLDivision!=null&&i.HGMLDivision!=""&&i.HGMLDivision!=undefined&&e==i.HGMLDivision&&i.HGMLProductgroup!=null&&i.HGMLProductgroup!=""&&i.HGMLProductgroup!=undefined){for(o=l,s='<option value="" >Select<\/option>',r=0;r<o.length;r++)s+=i.HGMLDivision==o[r]?'<option class="DivisionOption" value="'+o[r]+'" selected>'+o[r]+"<\/option>":'<option class="DivisionOption" value="'+o[r]+'">'+o[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLDivision data-singleselect" id=`+i.MaterialCode+`HGMLDivision'>`+s+`</select> 
                           </div>`}if(e!=i.HGMLDivision){if(h!=""&&h!=null?u=h.split(","):(i.HGMLCategoryOptions!=""||i.HGMLCategoryOptions!=null)&&(u=l),u.length!=0)for(r=0;r<u.length;r++)s+=u[r]===e?'<option class="DivisionOption" value="'+u[r]+'" selected>'+u[r]+"<\/option>":'<option class="DivisionOption" value="'+u[r]+'">'+u[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLDivision data-singleselect" id=`+i.MaterialCode+`HGMLDivision'><option value="" >Select</option>`+s+`</select> 
                           </div>`}if(h!=""&&h!=null?u=h.split(","):(i.HGMLCategoryOptions!=""||i.HGMLCategoryOptions!=null)&&(u=l),u.length!=0)for(r=0;r<u.length;r++)s+=u[r]===e?'<option class="DivisionOption" value="'+u[r]+'" selected>'+u[r]+"<\/option>":'<option class="DivisionOption" value="'+u[r]+'">'+u[r]+"<\/option>";return`<div class="text-left "> 
                           <select class="form-control appearence HGMLDivision data-singleselect" id=`+i.MaterialCode+`HGMLDivision'><option value="" >Select</option>`+s+`</select> 
                           </div>`}},{name:"HGMLFormulation",label:"HGML Formulation",resizable:!0,ignoreCase:!0,hidden:!0,classes:"HGMLFormulation"},{name:"BusinessLaunchYear",label:"Business Launch Year",exportcol:!0,search:!0,resizable:!0,ignoreCase:!0,width:100},{name:"BusinessLaunchDate",label:"Business Launch Date",resizable:!0,ignoreCase:!0,width:140,title:!1,sorttype:"date",formatter:"date",formatoptions:{newformat:"d-m-Y"},formatter:function(n,t,i){var u=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),r;return r=u>=0?checkedData[u].BusinessLaunchDate:i.BusinessLaunchDate,r==""?`<div class="text-left datepicker-container">
                    <input type="text" onpaste="return false;" value="`+r+`" class="form-control input_height data-datepicker BusinessLaunchDate" id='`+i.MaterialCode+`BusinessLaunchDate'/>
                    <span class="datepicker-symbol"></span>
                    </div>`:`<div class="text-left datepicker-container">
                    <input type="text" onpaste="return false;" value="`+r+`" class="form-control input_height data-datepicker BusinessLaunchDate" id='`+i.MaterialCode+`BusinessLaunchDate'/>
                    <span class="datepicker-symbol"></span>
                    </div>`}},{name:"RandDLaunchDate",label:"R&D Launch Date",resizable:!0,ignoreCase:!0,width:140,title:!1,sorttype:"date",formatter:"date",formatoptions:{newformat:"d-m-Y"},formatter:function(n,t,i){var u=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),r;return r=u>=0?checkedData[u].RandDLaunchDate:i.RandDLaunchDate,r==""?`<div class="text-left datepicker-container">
                    <input type="text" class="form-control input_height data-datepicker RandDLaunchDate"  value=`+r+`>
                    <span class="datepicker-symbol"></span>
                    </div>`:`<div class="text-left datepicker-container"> 
                    <input type="text" class="form-control input_height data-datepicker RandDLaunchDate"  value=`+r+`> 
                    <span class="datepicker-symbol" ></span>
                    </div>`}},{name:"IsNPD",label:"Is NPD",resizable:!0,ignoreCase:!0,width:120,title:!1,formatter:function(n,t,i){var f,u,e,r;if(isnpdString="",f=checkedData.findIndex(n=>n.MaterialCode==i.MaterialCode),f>=0?checkedData[f].IsNPD=="1"?u="Yes":checkedData[f].IsNPD=="0"&&(u="No"):u=i.IsNPD,u!=""){for(e="",r=0;r<isNpdList.length;r++)e+=u==isNpdList[r].Text?'<option selected  value="'+isNpdList[r].Value+'">'+isNpdList[r].Text+"<\/option>":'<option  value="'+isNpdList[r].Value+'">'+isNpdList[r].Text+"<\/option>";return`<div class="text-left ">
                               <select class="form-control data-singleselect appearence IsNPD" id='`+i.MaterialCode+`IsNPD'>`+e+`</select> </div>`}}},{name:"UpdatedBy",label:"Updated by",resizable:!0,ignoreCase:!0},{name:"ApprovedOrRejectedBy",label:"Approved/Rejected by",resizable:!0,ignoreCase:!0},{name:"Status",label:"Staus",resizable:!0,ignoreCase:!0,hidden:!0},{name:"Remarks",label:"Remarks",resizable:!0,ignoreCase:!0,hidden:!0},{name:"IsProductHierarchyFilled",label:"Is Product Hierarchy Data Filled",resizable:!0,ignoreCase:!0,width:100,hidden:!0},{name:"HGMLCategoryOptions",label:"HGMLCategoryOptions",resizable:!0,ignoreCase:!0,hidden:!0,exportcol:!1},{name:"HGMLDivisionOptions",label:"HGMLDivisionOptions",resizable:!0,ignoreCase:!0,hidden:!0,exportcol:!1},];$("#MyApprovalPending_Grid").jqGrid({url:"",datatype:"local",data:myApprovalPendingData,mtype:"GET",colModel:colmodels,loadonce:!0,viewrecords:!0,pager:"#pager_MyApprovalPending_Grid",rowNum:myApprovalPendingData.length,scroll:1,rowattr:function(n){if(n.IsProductHierarchyFilled=="0")return{style:"outline: 1.5px solid #FF0000;"}},gridComplete:function(){var u=$("#MyApprovalPending_Grid tbody tr"),e=$("#MyApprovalPending_Grid tbody tr td"),i,n,t,r,f;if(u.length>1)for(i=$(u[1]).children("td"),n=0;n<i.length;n++)$(i[n]).css("width",$(e[n]).css("width"));for(n=0;n<selectedbox.length;n++)$("#MyApprovalPending_Grid tbody tr").each(function(t,i){var r=$(i).find("td:nth-child(3)").text();r==selectedbox[n].MaterialCode&&$(i).find("td:nth-child(1) input").prop("checked",!0)});$(".data-datepicker").datepicker({format:"dd-mm-yyyy",todayHighlight:!0,autoclose:!0});$("#MyApprovalPending_Grid tr td:nth-child(1)").click(function(){var n=$(this).find('input[type="checkbox"]');n.prop("checked")?($("#MyApprovalPending_Grid tr").removeClass("active"),$(this).parent().addClass("show_edit")):($(this).parent().addClass("active"),$(this).parent().removeClass("show_edit"))});t=document.getElementById("cbox");t.checked&&(t=document.getElementById("cbox"),r=!0,$("#MyApprovalPending_Grid tbody .checkbox").each(function(){if(!this.checked)return r=!1,!1}),t.checked=r?!0:!1,f=$(this).find('input[type="checkbox"]'),f.prop("checked")?($("#MyApprovalPending_Grid tr").removeClass("active"),$(this).parent().addClass("show_edit")):($(this).parent().addClass("active"),$(this).parent().removeClass("show_edit")));$("[data-singleselect]").select2();$(".data-singleselect").select2()}});$("#MyApprovalPending_Grid").jqGrid("filterToolbar",{autosearch:!0,stringResult:!1,searchOnEnter:!1,defaultSearch:"cn"});$(".ui-jqgrid-bdiv").css({"max-height":"45vh"});$(".ui-jqgrid-bdiv").children("div").css({"min-height":"10vh"});$TableHeight=$(".ui-jqgrid-bdiv").find("tbody").height();$TableHeight>330?($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","17px")):($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","0px"));$("#SearchNpdLmData").on("click",function(){NPDListLoad()});setTimeout(function(){$("#message_alert").fadeOut("slow")},5e3);$("#MyApprovalPending_Grid tr td:nth-child(1)").click(function(){var n=$(this).find('input[type="checkbox"]');n.prop("checked")?($("#MyApprovalPending_Grid tr").removeClass("active"),$(this).parent().addClass("show_edit")):($(this).parent().addClass("active"),$(this).parent().removeClass("show_edit"))});$(".multiselect").multiselect({includeSelectAllOption:!0,buttonWidth:220,maxHeight:300,enableCaseInsensitiveFiltering:!0,enableFiltering:!0});$(document).ready(function(){$("#purpose").on("change",function(){this.value=="business"?$(".year_dropdown").show():this.value=="rd"?$(".year_dropdown").show():$(".year_dropdown").hide()});$("#purpose1").on("change",function(){this.value=="details"?($("#so_number").hide(),$("#serial_number, #assign_engineer").show()):($("#so_number").show(),$("#serial_number").hide())})});$("body").on("change",".checkbox",function(){var n,t;$(this).is(":checked")?(n=getmaterialcodeonly(this),selectedbox.push(n)):$(this).is(":checked")||(n=getmaterialcodeonly(this),t=selectedbox.findIndex(t=>t.MaterialCode===n.MaterialCode),t!==-1&&selectedbox.splice(t,1))});subCategoryValues="";$("body").on("change",".ProductGroup",function(){var t;subCategoryValues="";var n=$(this).closest("tr"),i=$("#ProductHierarchy_Grid"),r=$(this).closest("tr.jqgrow").attr("id"),u=$(n).children().find(".ProductGroup").val()!=undefined?$(n).children().find(".ProductGroup").val():i.jqGrid("getCell",r,"ProductGroup");$.ajax({type:"POST",url:ROOT+"NPDLaunchMaster/GetOtherMasterInfoByProductGroup",data:{ProductGroup:u},dataType:"json","async":!1,success:function(t){$(n).find("option.SubCategoryOption").remove();$(n).find("option.DivisionOption").remove();$(n).find("option.CategoryOption").remove();$.each(t,function(i){i==0?subCategoryValues=t[i].HGMLSubCategory:subCategoryValues+=","+t[i].HGMLSubCategory;var r='<option class="SubCategoryOption" value="'+t[i].HGMLSubCategory+'">'+t[i].HGMLSubCategory+"<\/option>";$(n).children().find(".HGMLSubCategory").append(r)})},error:function(){alert("Error occured!!")}});var n=$(this).closest("tr"),i=$("#ProductHierarchy_Grid"),r=$(this).closest("tr.jqgrow").attr("id"),f=i.jqGrid("getCell",r,"MaterialCode"),e={materialCode:f,subCategory:subCategoryValues,productgroup:u};CatrowData=e;t=ProductcheckedData.findIndex(n=>n.MaterialCode===CatrowData.MaterialCode);t!==-1?ProductcheckedData[t]=CatrowData:ProductcheckedData.push(CatrowData);rowData=getchecckedRowData(this);t=checkedData.findIndex(n=>n.MaterialCode===rowData.MaterialCode);t!==-1?checkedData[t]=rowData:checkedData.push(rowData)});$("body").on("change",".HGMLSubCategory",function(){var i,t;divisionValues="";categoryValues="";var n=$(this).closest("tr"),r=$("#ProductHierarchy_Grid"),u=$(this).closest("tr.jqgrow").attr("id"),f=$(n).children().find(".HGMLSubCategory").val()!=undefined?$(n).children().find(".HGMLSubCategory").val():r.jqGrid("getCell",u,"HGMLSubCategory"),e=$(n).children().find(".ProductGroup").val()!=undefined?$(n).children().find(".ProductGroup").val():r.jqGrid("getCell",u,"ProductGroup");$.ajax({type:"POST",url:ROOT+"NPDLaunchMaster/GetOtherMasterInfoBySubCateg",data:{SubCategory:f,ProductGroup:e},dataType:"json","async":!1,success:function(t){$(n).find("option.DivisionOption").remove();$(n).find("option.CategoryOption").remove();$.each(t.NPDDivisionInfo,function(i){i==0?divisionValues=t.NPDDivisionInfo[i].HGMLDivision:divisionValues+=","+t.NPDDivisionInfo[i].HGMLDivision;var r='<option class="DivisionOption" value="'+t.NPDDivisionInfo[i].HGMLDivision+'">'+t.NPDDivisionInfo[i].HGMLDivision+"<\/option>";$(n).children().find(".HGMLDivision").append(r)});$.each(t.NPDCategoryInfo,function(i){i==0?categoryValues=t.NPDCategoryInfo[i].HGMLCategory:categoryValues+=","+t.NPDCategoryInfo[i].HGMLCategory;var r='<option class="CategoryOption" value="'+t.NPDCategoryInfo[i].HGMLCategory+'">'+t.NPDCategoryInfo[i].HGMLCategory+"<\/option>";$(n).children().find(".HGMLCategory").append(r)})},error:function(){alert("Error occured!!")}});var n=$(this).closest("tr"),r=$("#MyApprovalPending_Grid"),u=$(this).closest("tr.jqgrow").attr("id"),o=r.jqGrid("getCell",u,"MaterialCode"),s={materialCode:o,categoryValues:categoryValues,divisionValues:divisionValues,subcategory:f};CatrowData=s;t=catcheckedData.findIndex(n=>n.MaterialCode===CatrowData.MaterialCode);t!==-1?catcheckedData[t]=CatrowData:catcheckedData.push(CatrowData);i=getchecckedRowData(this);t=checkedData.findIndex(n=>n.MaterialCode===i.MaterialCode);t!==-1?checkedData[t]=i:checkedData.push(i)});checkedData=[];$("body").on("change",".checkbox,.HGMLCategory,.ProductGroup,.IsNPD,.BusinessLaunchDate,.RandDLaunchDate",function(){var n,t;$(this).is(":checked")?(n=getchecckedRowData(this),t=checkedData.findIndex(t=>t.MaterialCode===n.MaterialCode),t!==-1?checkedData[t]=n:checkedData.push(n)):$(this).closest("tr").find(".checkbox")&&(n=getchecckedRowData(this),t=checkedData.findIndex(t=>t.MaterialCode===n.MaterialCode),t!==-1?checkedData[t]=n:checkedData.push(n))});$(".MyApprovalApprove").on("click",function(){$("#ByClick_OK").prop("disabled",!1);var t=!0,n=[];$("#MyApprovalPending_Grid tr").each(function(){if($(this).find(".checkbox").prop("checked")){var t=getchecckedRowData(this);n.push(t)}});(n==[]||n.length==0)&&(t=!1,alert("Please select atleast one Material to Approve the data"));t&&$("#Approve").modal("show");$("#ByClick_OK").click(function(){$("#SaveMyApprovalData").val(JSON.stringify(n));$("#SingleOrMultiple").val("Multiple");document.getElementById("MyApprovalPending_Form_Submit").submit();$("#ByClick_OK").prop("disabled",!0)})});$(".MyApprovalReject").on("click",function(){$("#RejectClick_OK").prop("disabled",!1);var t=!0,n=[];$("#MyApprovalPending_Grid tr").each(function(){if($(this).find(".checkbox").prop("checked")){var t=getchecckedRowData(this);n.push(t)}});(n==[]||n.length==0)&&(t=!1,alert("Please select atleast one Material to Reject the data"));t&&$("#Reject").modal("show");$("#RejectClick_OK").click(function(){var t=$.trim($("#RemarksforReject").val());if(t=="")return $("#Error_RejectRemarks").show(),!1;$("#SaveMyApprovalData").val(JSON.stringify(n));$("#SingleOrMultiple").val("Multiple");$("#RejectRemarks").val(t);document.getElementById("MyApprovalPending_Form_Submit").submit();$("#RejectClick_OK").prop("disabled",!0)})});$("#RemarksforReject").keyup(function(){$("#RemarksforReject").val()==""?$("#Error_RejectRemarks").show():$("#Error_RejectRemarks").hide()});$("#MyApprovalPending_Grid tr td:nth-child(1)").click(function(){var i=document.getElementById("cbox"),n=!0,t;$("#MyApprovalPending_Grid tbody .checkbox").each(function(){if(!this.checked)return n=!1,!1});i.checked=n?!0:!1;t=$(this).find('input[type="checkbox"]');t.prop("checked")?($("#MyApprovalPending_Grid tr").removeClass("active"),$(this).parent().addClass("show_edit")):($(this).parent().addClass("active"),$(this).parent().removeClass("show_edit"))});$(".BusinessLaunchDate").on("keydown paste",function(n){n.preventDefault()});$(".RandDLaunchDate").on("keydown paste",function(n){n.preventDefault()});$(window).on("hidden.bs.modal",function(){$(".closeModal").val("");$(".Error_closeModal").hide()});