function PrototypeLoad(){var r=$("#Project_id").val(),n=$("#FromDate").val(),t=$("#ToDate").val(),u=$("#User_Id").val(),i=!0;(n==""||t=="")&&(i=!1,n==""?alert("Please select From Date"):alert("Please select To date"));i&&$.ajax({type:"POST",url:ROOT+"EffortTracker/GetProjectReport_Details",data:{Projectid:r,FromDate:n,Todate:t,UserId:u},success:function(n){var i=JSON.parse(n),t;$("#ProjectRemarks_Grid").jqGrid("clearGridData");$("#ProjectRemarks_Grid").jqGrid("setGridParam",{data:i});$("#ProjectRemarks_Grid").trigger("reloadGrid",[{page:1}]);$("#ProjectRemarks_Grid").jqGrid("filterToolbar",{autosearch:!0,stringResult:!1,searchOnEnter:!1,defaultSearch:"cn"});$(".ui-jqgrid-bdiv").css({"max-height":"40vh"});$(".ui-jqgrid-bdiv").children("div").css({"min-height":"10vh"});t=$(".ui-jqgrid-bdiv").find("tbody").height();t>208?($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","17px")):($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","0px"))},error:function(){alert("Error occured!!")}})}function setNavigation(){var n=window.location.pathname;n=n.replace(/\/$/,"");n=decodeURIComponent(n);$("#main_menu li a, #main_menu1 li a").each(function(){var r=$(this).attr("href"),t=$(this).attr("data-subURL"),i="";t!=undefined&&(i=t.split(";"));(n===r||i.indexOf(n)>=0)&&($(this).parents("#main_menu, #main_menu1").length>=1?$(this).parents("li").addClass("active"):($(this).addClass("activeparents"),$(this).parents("li").addClass("activeparents")))})}function Remarks_Icon(n){var t=$(n).data("createdby"),r=$(n).data("createdon"),u=$(n).data("task");$.ajax({type:"POST",url:ROOT+"EffortTracker/GetTaskDetails",data:{task:u,date:r,CreatedBy:t},success:function(n){App_jsons=JSON.parse(n);$.jgrid.gridUnload("#ProjectRemarks_Grid1");colmodels=[{name:"SlNO",label:"Sl.No",resizable:!0,ignoreCase:!0,width:80,search:!1},{name:"ProjectName",label:"Project Names",resizable:!0,ignoreCase:!0,width:650},];$("#ProjectRemarks_Grid1").jqGrid({url:"",datatype:"local",data:App_jsons,mtype:"GET",colModel:colmodels,loadonce:!0,viewrecords:!0,pager:"#pager_ProjectRemarks1",rowNum:App_jsons.length,scroll:1,gridComplete:function(){var t=$("#ProjectRemarks_Grid1 tbody tr"),r=$("#ProjectRemarks_Grid1 tbody tr td"),n;if(t.length>1)for(n=$(t[1]).children("td"),i=0;i<n.length;i++)$(n[i]).css("width",$(r[i]).css("width"))}});$("#ProjectRemarks_Grid1").jqGrid("filterToolbar",{autosearch:!0,stringResult:!1,searchOnEnter:!1,defaultSearch:"cn"});$(".ui-jqgrid-bdiv").css({"max-height":"40vh"});$(".ui-jqgrid-bdiv").children("div").css({"min-height":"10vh"});var t=$(".ui-jqgrid-bdiv").find("tbody").height();t>208?($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","17px")):($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","0px"))},error:function(){alert("Error occured!!")}})}var projectRemarksData=$.parseJSON($("#ProjectRemarksJsonData").val()),$TableHeight;$(document).ready(function(){function n(n){var t=n.split("/");return new Date(t[2],t[1]-1,t[0])}$("#FromDate").datepicker({format:"dd/mm/yyyy",todayHighlight:!0,changeMonth:!0,changeYear:!0,todayBtn:1,autoclose:!0}).on("changeDate",function(){var t=n($("#FromDate").val()),i=n($("#ToDate").val());t>i&&(alert("From Date should not be greater than To Date"),$("#FromDate").val(""))});$("#ToDate").datepicker({format:"dd/mm/yyyy",todayHighlight:!0,changeMonth:!0,changeYear:!0,todayBtn:1,autoclose:!0}).on("changeDate",function(){var t=n($("#ToDate").val()),i=n($("#FromDate").val());i>t&&(alert("To Date should not be less than From Date"),$("#ToDate").val(""))})});$(".js-select2").select2({placeholder:"Select HUB",allowHtml:!0,allowClear:!1,includeSelectAllOption:!0});colmodels=[{name:"Action",label:"Action",search:!1,width:70,resizable:!0,ignoreCase:!0,formatter:function(n,t,i){return i.Task!=null?'<div class="justify-center_"> <a href="#" id="Remarks_Icon" data-bs-toggle="modal"  data-createdby="'+i.CreatedBy+'" data-task="'+i.Task+'" data-createdon="'+i.Date+'" onclick="Remarks_Icon(this)" data-bs-target="#productModal" title="Project Details" class= "btn-icon -edit " > <i class="fas fa-info-circle" > <\/i><\/a ><\/div>':'<div class="justify-center_"> <\/div>'}},{name:"ProjectId",label:"Project Id/Task",resizable:!0,ignoreCase:!0,width:200},{name:"Date",label:"Date",resizable:!0,width:70,ignoreCase:!0},{name:"UserName",label:"User Name",resizable:!0,width:120,ignoreCase:!0},{name:"Remarks",label:"Remarks",resizable:!0,ignoreCase:!0,width:300,search:!0},{name:"Task",label:"Task",resizable:!0,ignoreCase:!0,hidden:!0},{name:"CreatedBy",label:"CreatedBy",resizable:!0,ignoreCase:!0,hidden:!0},];$("#ProjectRemarks_Grid").jqGrid({url:"",datatype:"local",data:projectRemarksData,mtype:"GET",colModel:colmodels,loadonce:!0,viewrecords:!0,pager:"#pager_ProjectRemarks",rowNum:1e6,scroll:1,gridComplete:function(){var t=$("#ProjectRemarks_Grid tbody tr"),r=$("#ProjectRemarks_Grid tbody tr td"),n;if(t.length>1)for(n=$(t[1]).children("td"),i=0;i<n.length;i++)$(n[i]).css("width",$(r[i]).css("width"))}});$("#ProjectRemarks_Grid").jqGrid("filterToolbar",{autosearch:!0,stringResult:!1,searchOnEnter:!1,defaultSearch:"cn"});$(".ui-jqgrid-bdiv").css({"max-height":"40vh"});$(".ui-jqgrid-bdiv").children("div").css({"min-height":"10vh"});$TableHeight=$(".ui-jqgrid-bdiv").find("tbody").height();$TableHeight>208?($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","17px")):($(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow","auto"),$(".-virtual-scroll").find(".ui-jqgrid-hbox").css("padding-right","0px"));$("#SearchProjectRemarksData").on("click",function(){PrototypeLoad()});$("[data-singleselect]").select2();$(".data-singleselect").select2();setNavigation();$(".Datepicker_StartDate,.Datepicker_EndDate").keydown(function(n){if(n.key=="Backspace")return!1});$(".Datepicker_StartDate,.Datepicker_EndDate").keypress(function(n){var t=$(this).val(),i=[45],r;if(n.which>=48&&n.which<=57&&i.push(n.which),i.indexOf(n.which)==-1){n.preventDefault();return}if((t.match(/-/g)||[]).length>=2){n.preventDefault();return}if(r=/^\d{2}-\d{2}-\d{4}$/,!r.test(t)){n.preventDefault();return}});