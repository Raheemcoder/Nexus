@{
    ViewBag.Title = "Baseline Budget ";
    Layout = "~/Views/Shared/ProjectMaster_Layout.cshtml";
}

<style>
    a.color-blue {
        color: blue !important;
    }

        a.color-blue:hover {
            color: #000 !important;
        }

    .status_dropdown .select2-container.select2 {
        width: 170px !important;
    }

    .status_dropdown .ml-3 {
        margin-left: 20px;
    }

    .width_float {
        float: left;
        width: 100%;
    }
    td.text-right {
        text-align: right !important;
    }
</style>
<section>
    <div class="card-box mb-1 card_height pb-3 sg pt-1 test123">
        @*<div class="list_baseline">
                <ul>
                    <li>
                        <b>Department Name:</b> PD CPD
                    </li>
                    <li>
                        <b> Total Baseline Budget (INR):</b> 800000
                    </li>
                    <li>
                        <b> Total Revised Budget(INR):</b> 110000
                    </li>
                </ul>
            </div>*@
        <!--<div class="row">

        <div class="col-md-2">
            <div class="form-group mb-0 ">
                <label class="control-label">Project Id</label>
                <select class="form-control" data-singleselect>
                    <option>Select</option>
                    <option>IN-100001252 Marula Oil Body Lotion 400 ml</option>
                    <option>IN-100001251 Cocoa Butter Body Lotion 400 ml</option>
                    <option>IN-100001248 Ayurvedic Butter 7</option>
                    <option>5 g jar</option>
                </select>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-group mb-0 ">
                <label class="control-label">Department </label>
                <input class="form-control" />
            </div>
        </div>

        <div class="col-md-2">
            <div class="form-group mb-0 ">
                <label class="control-label">Category</label>
                <select class="form-control" data-singleselect>
                    <option>Select</option>
                    <option>Product Development</option>
                    <option>Travel</option>
                    <option>RM Procurement</option>
                </select>
            </div>
        </div>

        <div class="col-md-2">
            <div class="form-group mb-0 mt-4">
                <button type="button" id="SearchPMData" class="btn btn-info c-add-details waves-light waves-effect" title="Search">
                    Add
                </button>

            </div>
        </div>
        <div class="col-md-4">
            <div class="text-right mt-4">-->
        @*<button type="button" id="SearchPMData" class="btn btn-danger m-0 c-add-details waves-light waves-effect" title="Search">
                Reject
            </button>
            <button type="button" id="SearchPMData" class="btn btn-success m-0 c-add-details waves-light waves-effect" title="Search">
                Approve
            </button>
            <button type="button" id="SearchPMData" class="btn btn-success m-0 c-add-details waves-light waves-effect" title="Search">
                Save & Confirm
            </button>*@
        <!--</div>
            </div>
        </div>-->
        @*<div class="d-flex mt-2 mb-1 justify-content-between align-items-center">
                <div>
                    <span style="display:flex;justify-content:center;align-items:center" class="icongap">
                        <label class="btn-icon -view"><i class="fas fa-plus" aria-hidden="true"></i></label>Request for Additional Budget
                    </span>
                </div>
                <div>
                    <button type="button" id="SearchPMData" class="btn btn-success m-0 c-add-details waves-light waves-effect" title="Search">
                        Save & Confirm
                    </button>
                </div>
            </div>*@
        <div class="width_float">
            <div class="float-left" style="float: left">
                <div class="page-title">
                    <h4>Budget Request</h4>
                </div>
            </div>
            <div class="status_dropdown" style="float: right">
                <div class="d-flex">
                    <div class="">
                        <select class="form-control" data-singleselect>
                            <option>All</option>
                            <option selected>Pending For Baseline Request</option>
                        </select>
                    </div>
                    <div class="ml-3">
                        <button type="button" id="SearchPMData" class="btn btn-info c-add-details waves-light waves-effect" title="Search">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="">
                    <div class="m-table__main mt-2 mb-2">
                        <div class="m-table__responsive -virtual-scroll">
                            <table id="category_grid" class="table table-bordered"></table>
                            <div id="category_pager"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="modal fade budget_popup" id="approvedInfo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-modal="true" role="dialog">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Baseline Budget Approved Info</h5>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="">
                                <div class="m-table__main mt-2 mb-2">
                                    <div class="m-table__responsive -virtual-scroll">
                                        <table id="approved_grid" class="table table-bordered"></table>
                                        <div id="approved_pager"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    data = [

        {
            "ProjectId": "IN-100001251 Cocoa Butter Body Lotion 400 ml",
            "Department": "PD CPD, R&D (FD-CP)",
            "RequestedBaseLineBudget": "",
            "RequestedAdditionalBudget": "",
            "ApprovedBaseLineBudget": "",
            "ApprovedAdditionalBudget": "",
        //    "NoOfPendingRequest": "2",
        },
        {
            "ProjectId": "IN-100001252 Marula Oil Body Lotion 400 ml",
            "Department": "PD CPD",
            //    "NoOfPendingRequest": "1",
            "RequestedBaseLineBudget": "",
            "RequestedAdditionalBudget": "",
            "ApprovedBaseLineBudget": "",
            "ApprovedAdditionalBudget": "",
        },
        {
            "ProjectId": "IN- 100001242 Himalaya Purifying Neem Acne Serum",
            "Department": "PD CPD, R&D (FD-CP)",
            //    "NoOfPendingRequest": "2",
            "RequestedBaseLineBudget": "",
            "RequestedAdditionalBudget": "",
            "ApprovedBaseLineBudget": "",
            "ApprovedAdditionalBudget": "",
        },
        {
            "ProjectId": "IN-100001243 Himalaya Purifying Neem Acne Patch",
            "Department": "PD CPD, R&D (Clinical)",
            //    "NoOfPendingRequest": "2",
            "RequestedBaseLineBudget": "500000",
            "RequestedAdditionalBudget": "",
            "ApprovedBaseLineBudget": "",
            "ApprovedAdditionalBudget": "",
        },
        {
            "ProjectId": "ID-801100090 Himalaya Kajal face wash",
            "Department": "PD CPD, R&D (FD-CP)",
            "RequestedBaseLineBudget": "400000",
            "RequestedAdditionalBudget": "100000",
            "ApprovedBaseLineBudget": "400000",
            "ApprovedAdditionalBudget": "100000",
            //    "NoOfPendingRequest": "2",
        },
        {
            "ProjectId": "ID-800000038	Himalaya Baby Cream",
            "Department": "PD CPD",
            //    "NoOfPendingRequest": "1",
            "RequestedBaseLineBudget": "500000",
            "RequestedAdditionalBudget": "20000",
            "ApprovedBaseLineBudget": "500000",
            "ApprovedAdditionalBudget": "20000",
        },
        {
            "ProjectId": "IN-100001068	 Vitamin C Brightening Face mask",
            "Department": "PD CPD, R&D (FD-CP)",
            //    "NoOfPendingRequest": "2",
            "RequestedBaseLineBudget": "300000",
            "RequestedAdditionalBudget": "100000",
            "ApprovedBaseLineBudget": "300000",
            "ApprovedAdditionalBudget": "100000",
        },
        {
            "ProjectId": "IN-100001243 Himalaya Orange Vitamin C + vitamin's",
            "Department": "PD CPD, R&D (Clinical)",
            //    "NoOfPendingRequest": "2",
            "RequestedBaseLineBudget": "400000",
            "RequestedAdditionalBudget": "200000",
            "ApprovedBaseLineBudget": "200000",
            "ApprovedAdditionalBudget": "100000",
        },
    ]
    colmodels = [

        //{
        //    name: 'Action',
        //    label: 'Action',
        //    width: 90,
        //    search: false,
        //    resizable: true,
        //    ignoreCase: true,
        //    sortable: false,
        //    formatter: function (cellvalue, options, rowobject) {
        //        return '<div class="d-flex action_icons align-items-center" title="">' +
        //            '<a href="#" class="" title="" data-toggle="modal" data-target="#ViewProjectData"><i class="fas fa-plus"></i></a>' +
        //            '</div>';
        //    }
        //},
        {
            name: 'ProjectId',
            label: 'Project ID',
            width: 250,
            resizable: true,
            ignoreCase: true,
            formatter: function (cellvalue, options, rowobject) {
                if (rowobject.RequestedBaseLineBudget == "") {
                    return '<div class="d-flex action_icons align-items-center" title="">' +
                        '<a href="@Url.Content("~/ProjectMaster/NBaselineBudget")" class="text-info color-blue" title="" style="text-wrap:wrap;">' + cellvalue + '</a>' +
                        '</div>';
                } else if (rowobject.RequestedBaseLineBudget == "500000") {
                 return '<div class="d-flex action_icons align-items-center" title="">' +
                     '<a href="@Url.Content("~/ProjectMaster/NewBaselineBudget")" class="text-info color-blue" title="" style="text-wrap:wrap;">' + cellvalue + '</a>' +
                     '</div>';
                } else {
                    return '<div class="d-flex action_icons align-items-center" title="">' +
      '<a href="@Url.Content("~/ProjectMaster/NewBaselineBudget2")" class="text-info color-blue" title="" style="text-wrap:wrap;">' + cellvalue + '</a>' +
      '</div>';

                }

            }
        },
        //{
        //    name: 'TemplateName',
        //    label: 'Template Name',
        //    width: 120,
        //    resizable: true,
        //    ignoreCase: true,
        //},
        //{
        //    name: 'Department',
        //    label: 'Department',
        //    width: 120,
        //    resizable: true,
        //    ignoreCase: true,
        //},
        {
            name: 'RequestedBaseLineBudget',
            label: 'Requested BaseLine Budget',
            width: 100,
            resizable: true,
            ignoreCase: true,
            classes: "text-right",
        },
        {
            name: 'ApprovedBaseLineBudget',
            label: 'Approved BaseLine Budget',
            width: 100,
            resizable: true,
            ignoreCase: true,
            classes: "text-right",
        },
        {
            name: 'RequestedAdditionalBudget',
            label: 'Requested Additional Budget',
            width: 100,
            resizable: true,
            ignoreCase: true,
            classes: "text-right",
        },

        {
            name: 'ApprovedAdditionalBudget',
            label: 'Approved Additional Budget',
            width: 100,
            resizable: true,
            ignoreCase: true,
            classes: "text-right",
        },

        //{
        //    name: 'NoOfPendingRequest',
        //    label: 'No Of Pending Request',
        //    width: 120,
        //    resizable: true,
        //    ignoreCase: true,
        //},
        //{
        //    name: 'ProjectCreatedDate',
        //    label: 'Project Created Date',
        //    width: 120,
        //    resizable: true,
        //    ignoreCase: true,
        //},
    ],

        $("#category_grid").jqGrid({
            url: '',
            datatype: 'local',
            data: data,
            mtype: 'GET',
            colModel: colmodels,
            loadonce: true,
            viewrecords: true,
            pager: '#category_pager',
            rowNum: 30,
            scroll: 1,

            gridComplete: function () {
                var objRows = $("#category_grid tbody tr");
                var objHeader = $("#category_grid tbody tr td");

                if (objRows.length > 1) {
                    var objFirstRowColumns = $(objRows[1]).children("td");
                    for (i = 0; i < objFirstRowColumns.length; i++) {
                        $(objFirstRowColumns[i]).css("width", $(objHeader[i]).css("width"));
                    }
                }

            }
        });
    $("#category_grid").jqGrid('filterToolbar', {
        autosearch: true,
        stringResult: false,
        searchOnEnter: false,
        defaultSearch: "cn"
    });

</script>

<script>
    data = [
        {
            "Action": "Request for Additional Budget",
            "Category": "Product Development",
            "RequestedBudget": "50000",
            "RequestedOn": "1-Feb-2024",
            "RequestedBy": "Amit",
            "ApprovedRejectedBy": "",
            "Status": "Pending For Approval",
            "Remarks": "Please approve the budget",
        },
        {
            "Action": "Request for Additional Budget",
            "Category": "Travel",
            "RequestedBudget": "10000",
            "RequestedOn": "13-Oct-23",
            "RequestedBy": "Amit",
            "ApprovedRejectedBy": "Lakshmi",
            "Status": "Approved",
            "Remarks": "Approved",
        },

    ]
    colmodels = [

        //{
        //    name: 'Action',
        //    label: 'Action',
        //    width: 90,
        //    search: false,
        //    resizable: true,
        //    ignoreCase: true,
        //    sortable: false,
        //    formatter: function (cellvalue, options, rowobject) {
        //        return '<div class="d-flex action_icons align-items-center" title="">' +
        //            '<a href="#" class="" title=""><i class="fas fa-plus"></i></a>' +
        //            '</div>';
        //    }
        //},
        {
            name: 'Category',
            label: 'Category',
            width: 200,
            resizable: true,
            ignoreCase: true,

        },
        {
            name: 'RequestedBudget',
            label: 'Requested Budget',
            width: 120,
            resizable: true,
            ignoreCase: true,
        }, {
            name: 'RequestedOn',
            label: 'Requested On',
            width: 120,
            resizable: true,
            ignoreCase: true,
        }, {
            name: 'RequestedBy',
            label: 'Requested By',
            width: 200,
            resizable: true,
            ignoreCase: true,
            //formatter: function (cellvalue, options, rowobject) {
            //    return '<div class="" title="">' +
            //        '<input type="text" class="form-control mb-2" value="Product Development" readonly>' +
            //        '<input type="text" class="form-control" value="Travel" readonly>' +
            //        '</div>';
            //}
        },
        {
            name: 'ApprovedRejectedBy',
            label: 'Approved Rejected By',
            width: 160,
            resizable: true,
            ignoreCase: true,
            //formatter: function (cellvalue, options, rowobject) {
            //    return '<div class="" title="">' +
            //        '<input type="text" class="form-control mb-2">' +
            //        '<input type="text" class="form-control">' +
            //        '</div>';
            //}
        },
        {
            name: 'Status',
            label: 'Status',
            width: 200,
            resizable: true,
            ignoreCase: true,
            //formatter: function (cellvalue, options, rowobject) {
            //    return '<div class="" title="">' +
            //        '<input type="text" class="form-control mb-2" value="" readonly>' +
            //        '<input type="text" class="form-control" value="" readonly>' +
            //        '</div>';
            //}
        },
        {
            name: 'Remarks',
            label: 'Remarks',
            width: 200,
            resizable: true,
            ignoreCase: true,
            //formatter: function (cellvalue, options, rowobject) {
            //    return '<div class="" title="">' +
            //        '<input type="text" class="form-control mb-2" value="" readonly>' +
            //        '<input type="text" class="form-control" value="" readonly>' +
            //        '</div>';
            //}
        },
        //{
        //    name: 'RevisedBudget',
        //    label: 'Revised Budget(INR)',
        //    width: 150,
        //    resizable: true,
        //    ignoreCase: true,
        //    formatter: function (cellvalue, options, rowobject) {
        //        return '<div class="" title="">' +
        //            '<input type="text" class="form-control mb-2" value="" readonly>' +
        //            '<input type="text" class="form-control" value="" readonly>' +
        //            '</div>';
        //    }
        //},

    ],

        $("#category_grid").jqGrid({
            url: '',
            datatype: 'local',
            data: data,
            mtype: 'GET',
            colModel: colmodels,
            loadonce: true,
            viewrecords: true,
            pager: '#category_pager',
            rowNum: 30,
            scroll: 1,

            gridComplete: function () {
                var objRows = $("#category_grid tbody tr");
                var objHeader = $("#category_grid tbody tr td");

                if (objRows.length > 1) {
                    var objFirstRowColumns = $(objRows[1]).children("td");
                    for (i = 0; i < objFirstRowColumns.length; i++) {
                        $(objFirstRowColumns[i]).css("width", $(objHeader[i]).css("width"));
                    }
                }

            }
        });
    $("#category_grid").jqGrid('filterToolbar', {
        autosearch: true,
        stringResult: false,
        searchOnEnter: false,
        defaultSearch: "cn"
    });

</script>



<script>
    data = [
        {
            "Action": "Request for Additional Budget",
            "RequestedBy": "Amit",
            "RequestedOn": "18-May-23",
            "ApprovedBy": "Tanmoy",
            "ApprovedOn": "19-May-23",
        },
        //{
        //    "Action": "Request for Additional Budget",
        //    "BaselineBudgetRequestedBy": "Amit",
        //    "BaselineBudgetRequestedOn": "18-May-23",
        //    "BaselineBudgetApprovedBy": "Tanmoy",
        //    "BaselineBudgetApprovedOn": "19-May-23",
        //},

    ]
    colmodels = [

        //{
        //    name: 'Action',
        //    label: 'Action',
        //    width: 90,
        //    search: false,
        //    resizable: true,
        //    ignoreCase: true,
        //    sortable: false,
        //    formatter: function (cellvalue, options, rowobject) {
        //        return '<div class="d-flex action_icons align-items-center" title="">' +
        //            '<a href="#" class="" title=""><i class="fas fa-plus"></i></a>' +
        //            '</div>';
        //    }
        //},
        {
            name: 'RequestedBy',
            label: 'Requested By',
            width: 160,
            resizable: true,
            ignoreCase: true,

        },
        {
            name: 'RequestedOn',
            label: 'Requested On',
            width: 160,
            resizable: true,
            ignoreCase: true,
        },
        {
            name: 'ApprovedBy',
            label: 'Approved By',
            width: 160,
            resizable: true,
            ignoreCase: true,
        },
        {
            name: 'ApprovedOn',
            label: 'Approved On',
            width: 160,
            resizable: true,
            ignoreCase: true,

        },

    ],

        $("#approved_grid").jqGrid({
            url: '',
            datatype: 'local',
            data: data,
            mtype: 'GET',
            colModel: colmodels,
            loadonce: true,
            viewrecords: true,
            pager: '#approved_pager',
            rowNum: 30,
            scroll: 1,

            gridComplete: function () {
                var objRows = $("#approved_grid tbody tr");
                var objHeader = $("#approved_grid tbody tr td");

                if (objRows.length > 1) {
                    var objFirstRowColumns = $(objRows[1]).children("td");
                    for (i = 0; i < objFirstRowColumns.length; i++) {
                        $(objFirstRowColumns[i]).css("width", $(objHeader[i]).css("width"));
                    }
                }

            }
        });
    $("#approved_grid").jqGrid('filterToolbar', {
        autosearch: true,
        stringResult: false,
        searchOnEnter: false,
        defaultSearch: "cn"
    });

</script>


<script>
    $(document).ready(function () {
        var mydata = [
            {
                id: "1", Action: "", ProjectId: "IN-100001251 Cocoa Butter Body Lotion 400 ml", TemplateName: "CPD-IN", ProjectCreatedDate: "15-May-23", Department: "PD CPD", Category: "Product Development", ReqBaselineBudget: "50000", ApproveBaselineBudget: "40000", RequestedBy: "Amit", RequestedOn: "18-May-23", BaseLineBudgetStatus: "Pending For Approval", attr: { Action: { rowspan: "2" }, ProjectId: { rowspan: "2" }, TemplateName: { rowspan: "2" }, ProjectCreatedDate: { rowspan: "2" }, Department: { rowspan: "2" } }
            },
            { id: "2", Action: "", ProjectId: "", TemplateName: "CPD-IN", ProjectCreatedDate: "15-May-23", Department: "PD CPD", Category: "Travel", ReqBaselineBudget: "40000", ApproveBaselineBudget: "40000", RequestedBy: "Amit", RequestedOn: "18-May-23", BaseLineBudgetStatus: "Pending For Approval", attr: { Action: { display: "none" }, ProjectId: { display: "none" }, TemplateName: { display: "none" }, ProjectCreatedDate: { display: "none" }, Department: { display: "none" } } },
            {
                id: "3", Action: "", ProjectId: "IN-100001251 Cocoa Butter Body Lotion 400 ml", TemplateName: "CPD-IN", ProjectCreatedDate: "15-May-23", Department: "R&D (Clinical)", Category: "Clinical Research", ReqBaselineBudget: "40000", ApproveBaselineBudget: "30000", RequestedBy: "Raghu", RequestedOn: "19-Sep-23", BaseLineBudgetStatus: "Pending For Approval", attr: { Action: { rowspan: "1" }, ProjectId: { rowspan: "1" }, TemplateName: { rowspan: "1" }, ProjectCreatedDate: { rowspan: "1" }, Department: { rowspan: "1" } }
            },
            {
                id: "4", Action: "", ProjectId: "IN- 100001253 Immunity Enhancing/&Multivitamin Gel", TemplateName: "Health-IN", ProjectCreatedDate: "12-Feb-23", Department: "R&D (FD-CP)", Category: "Product Development", ReqBaselineBudget: "60000", ApproveBaselineBudget: "60000", RequestedBy: "Rahul", RequestedOn: "12-Apr-23", BaseLineBudgetStatus: "Approved", attr: { Action: { rowspan: "2" }, ProjectId: { rowspan: "2" }, TemplateName: { rowspan: "2" }, ProjectCreatedDate: { rowspan: "2" }, Department: { rowspan: "2" } }
            },
            { id: "5", Action: "", ProjectId: "", TemplateName: "", ProjectCreatedDate: "", Department: "", Category: "Travel", ReqBaselineBudget: "40000", ApproveBaselineBudget: "40000", RequestedBy: "Rahul", RequestedOn: "13-May-23", BaseLineBudgetStatus: "Approved", attr: { Action: { display: "none" }, ProjectId: { display: "none" }, TemplateName: { display: "none" }, ProjectCreatedDate: { display: "none" }, Department: { display: "none" } } },
            {
                id: "6", Action: "", ProjectId: "IN- 100001242 Himalaya Purifying Neem Acne Serum", TemplateName: "CPD-IN", ProjectCreatedDate: "12-Mar-23", Department: "", Category: "Product Development", ReqBaselineBudget: "40000", ApproveBaselineBudget: "30000", RequestedBy: "Madhuri", RequestedOn: "13-Jun-23", BaseLineBudgetStatus: "Approved", attr: { Action: { rowspan: "1" }, ProjectId: { rowspan: "1" }, TemplateName: { rowspan: "1" }, ProjectCreatedDate: { rowspan: "1" }, Department: { rowspan: "1" } }
            },
            //{ id: "3", Departments: "R&D (Clinical)", Category: "Product Development", BaselineBudget: "500000", BaseLineBudgetUpdatedBy: "Amit", BaseLineBudgetUpdatedOn: "18-May-23", AdditionalBudget: "50000", AdditionalBudgetHistory: "", attr: { Departments: { rowspan: "2" }, Category: { rowspan: "2" } } },
            //{ id: "4", Departments: "R&D (Clinical)", Category: "Travel", BaselineBudget: "300000", BaseLineBudgetUpdatedBy: "Amit", BaseLineBudgetUpdatedOn: "18-May-23", AdditionalBudget: "10000", AdditionalBudgetHistory: "", attr: { Departments: { display: "none" }, Category: { display: "none" } } },
            //{ id: "5", Departments: "R&D (FD-CP)", Category: "Product Development", BaselineBudget: "500000", BaseLineBudgetUpdatedBy: "Amit", BaseLineBudgetUpdatedOn: "18-May-23", AdditionalBudget: "50000", AdditionalBudgetHistory: "", attr: { Departments: { rowspan: "2" }, Category: { rowspan: "2" } } },
            //{ id: "6", Departments: "R&D (FD-CP)", Category: "Travel", BaselineBudget: "300000", BaseLineBudgetUpdatedBy: "Amit", BaseLineBudgetUpdatedOn: "18-May-23", AdditionalBudget: "10000", AdditionalBudgetHistory: "", attr: { Departments: { display: "none" }, Category: { display: "none" } } },



        ],
            arrtSetting = function (rowId, val, rawObject, cm) {
                var attr = rawObject.attr[cm.name], result;
                if (attr.rowspan) {
                    result = ' rowspan=' + '"' + attr.rowspan + '"';
                } else if (attr.display) {
                    result = ' style="display:' + attr.display + '"';
                }
                return result;
            };

        $("#list").jqGrid({
            datatype: 'local',
            data: mydata,
            colNames: ['Action', 'Project Id', 'Template Name', 'Project Created Date', 'Department', 'Category', 'Req Baseline Budget (INR)', 'Approved Baseline Budget (INR)', 'Requested By', 'Requested On', 'BaseLine Budget Status'],
            colModel: [
                {
                    name: 'Action', align: 'center', classes: 'trs', cellattr: arrtSetting, width: 90, search: false,
                    formatter: function (cellvalue, options, rowobject) {
                        if (rowobject.BaseLineBudgetStatus == "Approved") {
                            return '<div class="d-flex action_icons align-items-center justify-content-between" title="">' +
                                /*'<a href="#" class="" title="Request for Additional Budget" data-toggle="modal" data-target="#ViewProjectData"> <img src="../images/money-bag.png" width="22px"/></a> ' +*/
                                '<a href="#" class="pl-1" title="Info" data-toggle="modal" data-target="#approvedInfo"> <i class="fas fa-info"></i></a > ' +
                                //'<a href="#" class="pl-1" title="Approve" > <i class="fas fa-thumbs-up text-success"></i></a> ' +
                                //'<a href="#" class="pl-1" title="Reject"> <i class="fas fa-thumbs-down text-danger"></i></a> ' +
                                '</div>';
                        }
                        else if (rowobject.BaseLineBudgetStatus == "Pending For Approval") {
                            return '<div class="d-flex action_icons align-items-center justify-content-between" title="">' +
                                '<a href="#" class="" title="Info" data-toggle="modal" data-target="#approvedInfo"> <i class="fas fa-info"></i></a>' +
                                '<a href="#" class="pl-1" title="Approve" > <i class="fas fa-thumbs-up text-success"></i></a> ' +
                                '<a href="#" class="pl-1" title="Reject"> <i class="fas fa-thumbs-down text-danger"></i></a> ' +
                                '</div>';
                        }


                    }
                },
                /*{ name: 'state',  align: 'center', cellattr: arrtSetting },*/
                { name: 'ProjectId', classes: 'trs1', cellattr: arrtSetting, width: 220, },
                { name: 'TemplateName', cellattr: arrtSetting, width: 120 },
                { name: 'ProjectCreatedDate', cellattr: arrtSetting, width: 120 },
                {
                    name: 'Department', width: 180, cellattr: arrtSetting

                },
                {
                    name: 'Category', width: 180

                },
                {
                    name: 'ReqBaselineBudget',
                    width: 140,
                    formatter: function (cellvalue, options, rowobject) {
                        if (rowobject.BaseLineBudgetStatus == "Pending For Approval") {
                            //return '<div class="d-flex action_icons input_budget -items-center" title="">' +
                            //    '<input type="text" class="form-control" value="' + cellvalue +'" />' +
                            //    '</div>';
                            return '<div class="text-right">' + cellvalue + '</div>';
                        }
                        else if (rowobject.BaseLineBudgetStatus == "Approved") {
                            return '<div class="text-right">' + cellvalue + '</div>';
                        }

                    },
                },
                {
                    name: 'ApproveBaselineBudget',
                    width: 140,
                    formatter: function (cellvalue, options, rowobject) {
                        if (rowobject.BaseLineBudgetStatus == "") {
                            return '';
                        }
                        else if (rowobject.BaseLineBudgetStatus == "Approved") {
                            return '<div class="text-right">' + cellvalue + '</div>';
                        }
                        else if (rowobject.BaseLineBudgetStatus == "Pending For Approval") {
                            return '<div class="d-flex action_icons input_budget -items-center" title="">' +
                                '<input type="text" class="form-control" value="' + cellvalue +'" />' +
                                '</div>';
                        }

                    },
                },
                {
                    name: 'BaseLineBudgetStatus',
                    width: 180,
                    formatter: function (cellvalue, options, rowobject) {
                        if (rowobject.BaseLineBudgetStatus == "Pending For Approval") {
                            return '<a href="#" class="task_status value_info "> <span class="text-warning">' + cellvalue + '</span></a>'
                        }
                        else if (rowobject.BaseLineBudgetStatus == "Approved") {
                            return '<a href="#" class="task_status value_info "> <span class="text-success">' + cellvalue + '</span></a>'
                        }


                    }
                },

                {
                    name: 'RequestedBy',
                    width: 140,

                },
                {
                    name: 'RequestedOn',
                    width: 140,
                },
                //{
                //    name: 'BaseLineBudgetApprovedOn',
                //    width: 140,

                //},
                //{
                //    name: 'BaseLineBudgetApprovedBy',
                //    width: 140,
                //},
                //{
                //    name: 'RevisedBudget', width: 120,
                //    formatter: function (cellvalue, options, rowobject) {
                //        if (rowobject.RevisedBudget == "400000") {
                //            return '<a href="#" class="task_status value_info ">' + cellvalue + '</a>'
                //        }
                //        else if (rowobject.RevisedBudget == "150000") {
                //            return '<a href="#" class="task_status value_info "> ' + cellvalue + '</a>'
                //        }
                //        else if (rowobject.RevisedBudget == "") {
                //            return ''
                //        }


                //    }
                //},


            ],
            cmTemplate: { sortable: false },
            loadonce: true,
            viewrecords: true,
            pager: '#list_pager',
            rowNum: 20,
            hoverrows: false,
            scroll: 1,
            beforeSelectRow: function () {
                return false;
            }
        });

        $("#list").jqGrid('filterToolbar', {
            autosearch: true,
            stringResult: false,
            searchOnEnter: false,
            defaultSearch: "cn"
        });

        $('.ui-jqgrid-bdiv').css({ 'max-height': '45vh' });
        $('.ui-jqgrid-bdiv').children("div").css({ 'min-height': '0vh' });
        var $TableHeight = $(".ui-jqgrid-bdiv").find("tbody").height();
        if ($TableHeight > 130) {
            $(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow", "auto");
            $(".-virtual-scroll").find(".ui-jqgrid-hdiv").css("padding-right", "6px");
        }
        else {
            $(".ui-jqgrid").find(".ui-jqgrid-bdiv").css("overflow", "auto");
            $(".-virtual-scroll").find(".ui-jqgrid-hdiv").css("padding-right", "0px")
        }


        $('[data-singleselect]').select2()
        $('.data-singleselect').select2()
        $('.data-singleselect').select2({
            dropdownParent: $('#add_project')
        });
    })
</script>

