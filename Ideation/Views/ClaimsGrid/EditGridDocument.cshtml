@model Ideation.Models.ClaimsGridDocument

@{
    ViewBag.Title = "EditGridDocument";
    Layout = "~/Views/Shared/CG_Layout.cshtml";

}
<script>

    $('.prototype_').hide()
    $('.prototype_1').hide()
    $('.prototype_3').hide()
</script>
<style>
    .brd_tbl table td {
        border: 1px solid #339b9c !important;
    }

    .table tr td {
       overflow:hidden;
    }
    .formulation_table table thead th {
        font-size: 12px;
        font-weight: 400;
        border: 1px solid #000 !important;
        padding: 5px;
    }

    .d-flex {
        display: flex;
        justify-content: end;
    }

    .gap-10 {
        gap: 10px;
    }

    #packlabel_claims table tbody td, #communication_claims table tbody td {
        font-size: 12px;
        font-weight: 400;
        border: 1px solid #000 !important;
        vertical-align: baseline;
    }

    #packlabel_claims table thead tr, #communication_claims table thead tr {
        padding: 5px !important;
        background: #e2f3f0 !important;
    }

    #packlabel_claims table thead th, #communication_claims table thead th {
        border: none !important;
        padding: 5px !important;
    }

    #packlabel_claims table tbody td, #communication_claims table tbody td {
        font-size: 12px;
        font-weight: 400;
        border: 1px solid #000 !important;
        vertical-align: baseline;
        word-break: break-word;
    }

    #packlabel_claims table, #communication_claims table {
        margin-bottom: 10px
    }

    #packlabel_claims button, #communication_claims button {
        /*background: transparent;*/
        border: none;
    }

    .justify-center_1 {
        display: flex;
        float: right;
    }

    .remarks {
        display: flex;
        justify-content: space-between;
        padding-bottom: 5px;
    }
    .edit_icon_blue{
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 6px;
        background: #1e78ff;
        border-radius: 50%;
        color: white;
        height: 25px;
    }

    .download_icon_green{
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 6px;
        background: green;
        border-radius: 50%;
        color: white;
        height: 25px;
    }
    .delete_icon_red{
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 6px;
        background: #c62828;
        border-radius: 50%;
        color: white;
        height: 25px;
    }
    .excelicon_row{
        display:flex;
        justify-content: end;
    }
    #onpackExcel, #communicationExcel {
        display:inline-flex;
        justify-content:end;
        width: inherit;
    }
    #onpackExcel img, #communicationExcel img{
      width: 30px;
      height: 30px;
      border-radius: 50%;
    } 
    #onpackExcel i, #communicationExcel i{
            font-size: 24px;
            color: green;
    }

    #cft_remarks_table td {
        white-space: normal !important;
        padding: 5px;
    }
    #DSG_Remarks textarea, #CFT_Remarks_Modal textarea{
        width:100%;
        height:100px;
        padding:10px;
    }
    .claims_border-error{
        border-width: 1.5px;
        border-color:red;
        outline:none;
    }
    .color_red{
        color:red;
    }

    .addonpack {
        background: #01686a !important;
        color: #fff;
        padding: 2px 8px 2px 8px;
        border-top-left-radius: 10px;
        border-top-right-radius: 0px;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 10px;
        border: 1px solid #01686a !important;
    }

    .paddingRight {
        padding-right: 5px !important;
    }

    .paddingLeft {
        padding-left: 5px !important;
    }
</style>

@if (TempData["Message"] != null)
{
    <div class="alert @TempData["Messageclass"].ToString() alert-dismissable">
        <button type="button" class="btn-close status-alert" data-bs-dismiss="alert" aria-label="Close"></button>
        @TempData["Message"].ToString()
    </div>
}


@using (Html.BeginForm("EditGridDocument", "ClaimsGrid", FormMethod.Post, new { id = "EditClaims", enctype = "multipart/form-data" }))
{
    @Html.HiddenFor(m=>m.ClaimsHeaders)
    @Html.HiddenFor(m=>m.ProductDescription)
    @Html.HiddenFor(m=>m.ProjectDetails)
    @Html.HiddenFor(m=>m.OnPackClaims)
    @Html.HiddenFor(m=>m.CommunicationClaimsData)
    @Html.HiddenFor(m=>m.SupportingDoc)
    @Html.HiddenFor(m=>m.JsonClaimsData)
    @Html.HiddenFor(m=>m.Stage)
    @Html.HiddenFor(m=>m.ApprovalStatus)
    @Html.HiddenFor(m=>m.DeptDetails)
    @Html.HiddenFor(m=>m.JsonCFTReviewData)
    @Html.HiddenFor(m=>m.OnPackClaimsRemarks)
    @Html.HiddenFor(m=>m.CommunicationClaimsRemarks)
    @Html.HiddenFor(m=>m.GridId)
    @Html.HiddenFor(m=>m.CFTDeptName);
    @Html.HiddenFor(m=>m.ProjectNumber);

    <div class="card-box mb-0">
        <div class="tb_clr marbt">
            <h3 class="cen_txt">EDIT GRID DOCUMENT</h3>
            <table class="table table-bordered">
                <thead>
                    <tr class="mod_th">
                        <th scope="col">Project Number</th>
                        <th scope="col">Product Name</th>
                        <th scope="col">HGL Approval Number</th>
                        <th scope="col">Date</th>
                        <th scope="col">Version No.</th>
                        <th scope="col">Download</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="projNo"></td>
                        <td id="prodName"></td>
                        <td id="apprNo"></td>
                        <td id="date"></td>
                        <td id="version"></td>
                        <td>
                            <button type="button" id="generateClaims_pdf" style="border: none; background: #198754; padding: 5px; border-radius: 50%; color: white;">
                                <i class="fas fa-download" aria-hidden="true"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h6 class="pro_det">Project Details</h6>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Project Number <span class="color-red">*</span></label>
                <div class="col-sm-10 pd">

                    @Html.DropDownListFor(model=>model.ProjectNumber,Model.ProjectList,"--Select--",new{@class="form-control form-select-sm mandatory CFTStage",@id="ProjectNo",@disabled="disabled"})
                    <span id="Err-ProjectNo" style="display:none;color:red;">Please select Project</span>

                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Product Name<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @* <input type="text" class="form-control form-control-sm">*@
                    @Html.TextBoxFor(m=>m.ProductName,new{@class="form-control form-control-sm CFTStage",@id="ProductName"})
                    <span id="Err-ProductName" style="display:none;color:red;">Please enter Product Name</span>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">HGL Approval Number <span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @*<input type="text" class="form-control form-control-sm">*@
                    @Html.TextBoxFor(m=>m.HGLApprovalNumber,new{@class="form-control form-control-sm CFTStage",@id="HGLApprovalNumber",@disabled="disabled"})
                    @*<span id="Err-HGLApprovalNumber" style="display:none;color:red;"><br />Please enter HGLApprovalNumber</span>*@
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Product Positioning Statement <span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @*<textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.ProductPositioningStatement,new{@class="form-control mandatory CFTStage",@id="ProductPositioningStatement"})
                    <span id="Err-ProductPositioningStatement" style="display:none;color:red;">Please enter ProductPositioningStatement</span>
                </div>
            </div>

            <h6 class="pro_det">Project Brief - @Model.ProjectBriefId</h6>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Nice to Have claims </label>
                <div class="col-sm-10 pd">
                    @*<textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.NiceToHaveClaims,new{@class="form-control CFTStage",@id="ProductPositioningStatement",@disabled="disabled"})
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Must Have claims </label>
                <div class="col-sm-10 pd">
                    @*<textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.MustHaveClaims,new{@class="form-control CFTStage",@id="ProductPositioningStatement",@disabled="disabled"})
                </div>
            </div>
            <h6 class="pro_det">Product Description (includes formula, package, product)</h6>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">License Category  <span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @*<input type="text" class="form-control form-control-sm">*@
                    @Html.DropDownListFor(model=>model.LicenseCategory,Model.LicenseCategoryList,"--Select--",new{@class="form-control form-select-sm mandatory",@id="LicenseCategory"})
                    <span id="Err-LicenseCategory" style="display:none;color:red;">Please select LicenseCategory</span>
                   
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Other HUBS License Category</label>
                <div class="col-sm-10 pd">
                    @Html.TextBoxFor(m=>m.OtherHUBSLicenseCategory ,new{@class="form-control form-control-sm CFTStage",@id="otherhubslicensecategory"})
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Dosage/Product form<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @* <input type="text" class="form-control form-control-sm">*@
                    @Html.TextBoxFor(m=>m.Dosage ,new{@class="form-control form-control-sm mandatory CFTStage",@id="Dosage"})
                    <span id="Err-Dosage" style="display:none;color:red;">Please enter Dosage Form</span>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Target organ/disease<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @* <input type="text" class="form-control form-control-sm">*@
                    @Html.TextBoxFor(m=>m.TargetOrgan ,new{@class="form-control form-control-sm mandatory CFTStage",@id="TargetOrgan"})
                    <span id="Err-TargetOrgan" style="display:none;color:red;">Please enter Target Organ/Disease</span>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Formula features<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @* <textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.FormulaFeatures,new{@class="form-control mandatory CFTStage",@id="FormulaFeatures"})
                    <span id="Err-FormulaFeatures" style="display:none;color:red;">Please enter FormulaFeatures</span>

                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Anchor HUB<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @*<input type="text" class="form-control form-control-sm">*@
                    @Html.DropDownListFor(model=>model.AnchorHUB,Model.HubList,"--Select--",new{@class="form-control form-select-sm mandatory",@id="AnchorHUB"})
                    <span id="Err-AnchorHUB" style="display:none;color:red;">Please enter AnchorHUB</span>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Other markets if any@*<span class="color-red">*</span>*@</label>
                <div class="col-sm-10 pd">
                    @*<input type="text" class="form-control form-control-sm">*@
                    @Html.TextBoxFor(m=>m.OtherMarkets ,new{@class="form-control form-control-sm CFTStage",@id="OtherMarkets"})
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Shelf life at the time of launch<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @*                <input type="text" class="form-control form-control-sm">
                *@                @Html.TextBoxFor(m=>m.ShelfLife ,new{@class="form-control form-control-sm mandatory CFTStage",@id="ShelfLife"})
                    <span id="Err-ShelfLife" style="display:none;color:red;">Please enter ShelfLife</span>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Direction for use<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @* <textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.DirectionForUse,new{@class="form-control mandatory CFTStage",@id="DirectionForUse"})
                    <span id="Err-DirectionForUse" style="display:none;color:red;">Please enter Directions For Use</span>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Caution</label>
                <div class="col-sm-10 pd">
                    @*<textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.Caution,new{@class="form-control CFTStage",@id="Caution"})
                    
                </div>
            </div>


            @* <div class="row mb-3">
        <div class="col-lg-12">
        <div class="float-right text-right">
        <button type="button" class="btn-add">Add</button>
        </div>
        </div>
        </div>*@
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Target Customer<span class="color-red">*</span></label>
                <div class="col-sm-10 pd">
                    @*<textarea class="form-control"></textarea>*@
                    @Html.TextAreaFor(m=>m.TargetCustomer,new{@class="form-control mandatory CFTStage",@id="TargetCustomer"})
                    <span id="Err-TargetCustomer" style="display:none;color:red;">Please enter TargetCustomer</span>
                </div>
            </div>

            <h6 class="pro_det">On Pack / Label Claims</h6>
            @if (@Model.Stage == 3)
            {
                <div class="row excelicon_row">
                    <button type="button" class="btn btn-excel" id="onpackExcel" title="Excel Download"><i class='fas fa-file-excel'></i></button>
                </div>
            }
            @if (@Model.Stage> 3)
            {
                <div class="row">
                    <span>CFT Remarks <button id="onPackCFTRemarks" type="button" style="background:transparent;border:none"><i class="fas fa-list" aria-hidden="true" style="color:blue"></i></button></span>
                </div>
            }
            <span id="Err-OnPackGrid" style="display:none;color:red;">Please enter atleast one record for On Pack/Label Claims</span>
            @if (Model.Stage != 3)
            {
                <div class="row">
                    <div class="text-end">
                        <button class="addonpack" type="button" id="open_onpack_modal"><i class="fa fa-plus" aria-hidden="true"></i></button>
                    </div>
            </div>
            }
            <div class="row product_profile OnPackDetails">

                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Claims<span class="color-red">*</span></label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.TextAreaFor(m=>m.Claims,new{@class="form-control onPackField",@id="Claims"})
                            <span id="Err-Claims" style="display:none;color:red;">Please enter Claims</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Feasibility of Achieving Claims<span class="color-red">*</span></label>
                        <select class="form-control onPackField" data-singleselect id="FeasibilityClaims">
                            <option value="">Select</option>
                            <option value="Feasible">Feasible</option>

                        </select>

                        <span id="Err-FeasibilityClaims" style="display:none;color:red;">Please select Feasibility</span>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Supporting Technical Statements from R&D</label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.TextAreaFor(m=>m.SupportingStmt,new{@class="form-control onPackField",@id="SupportingStmt", @cols="30"})
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Measured By<span class="color-red">*</span></label>
                        <div class="ckediter_tolbar">
                            @* <input type="text" class="form-control" />*@
                            @Html.TextBoxFor(m=>m.MeasuredBy ,new{@class="form-control form-control-sm onPackField",@id="MeasuredBy", @cols="30"})
                            <span id="Err-MeasuredBy" style="display:none;color:red;">Please select Measured By Value</span>
                        </div>
                    </div>
                </div>


                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Remarks / Restrictions</label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.TextAreaFor(m=>m.OnPackRemarks,new{@class="form-control onPackField",@id="OnPackRemarks"})
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 responsible_department" >
                    <div class="form-group">
                        <label>
                            Responsible Department<span class="color-red">*</span>
                        </label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.ListBoxFor(model => model.ResponsibleDept, Model.DeptList ?? new List<SelectListItem>(),
                        new { @class = "form-control data-multiselect", @multiple = "multiple",
                        @id="ResponsibleDeptOnPack" })
                        <br>
                            <span id="Err-ResponsibleDeptOnPack" style="display:none;color:red;">Please select ResponsibleDepartment</span>
                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="float-right text-left">
                        @if(@Model.Stage <=3){
                            <button type="button" class="btn-add" id="OnPackDataAdd">Add</button>
                        }else{
                            <button type="button" class="btn-add" id="OnPackWithRemarksAdd">Add</button>
                        }
                    </div>
                </div>
            </div>
            <div class="row">
                <span id="packCommentsIsFill" style="display:none;color:red">Please Fill Required On Pack Remarks</span>
            </div>
            <div class="add_grid_">
                <div class="row">
                    <div class="col-md-12">
                        <div class="">
                            <div class="m-table__main mt-2 mb-4">
                                <div class="m-table__responsive -virtual-scroll">
                                    <table id="OnPackClaimsGrid" class="table table-bordered"></table>
                                    <div id="pager_claims_documeent"></div>
                                    <div id="packlabel_claims" class=""></div>
                                    <table id="cft_review_pack_claims"></table>
                                    <div id="cft_review_pack_claims_pager"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h6 class="pro_det">Claims For Communications Other Than Label</h6>
            <span id="Err-CommunicationClaimsGrid" style="display:none;color:red;">Please enter atleast one record for Claims For Communications</span>
                @if (@Model.Stage == 3)
                {
                <div class="row excelicon_row">
                    <button type="button" class="btn btn-excel" id="communicationExcel" title="Excel Download"><i class='fas fa-file-excel'></i></button>
                    </div>
                }
                @if (@Model.Stage > 3)
                {
                    <div class="row">
                        <span>CFT Remarks <button id="communicationCFTRemarks" type="button" style="background:transparent;border:none"><i class="fas fa-list" aria-hidden="true" style="color:blue"></i></button></span>
                    </div>
                }
            <div class="row">
                <span id="communicationCommentsIsFill" style="display:none;color:red">Please Fill Required Communication Remarks</span>
            </div>
            @if(Model.Stage != 3)
            {
                <div class="row">
                    <div class="text-end">
                        <button class="addonpack" type="button" id="open_communication_modal"><i class="fa fa-plus" aria-hidden="true"></i></button>
                    </div>
                </div>
            }
            <div class="row product_profile CommuniactionDetails">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Claims<span class="color-red">*</span></label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.TextAreaFor(m=>m.CommunicationClaims,new{@class="form-control claimsField",@id="CommunicationClaims"})
                            <span id="Err-CommunicationClaims" style="display:none;color:red;">Please enter Claims</span>

                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Feasibility of Achieving Claims<span class="color-red">*</span></label>
                        <select class="form-control claimsField" data-singleselect id="CommunicationFeasibilityClaims">
                            <option value="">Select</option>
                            <option value="Feasible">Feasible</option>

                        </select>
                        <span id="Err-CommunicationFeasibilityClaims" style="display:none;color:red;">Please select Feasibility</span>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Supporting Technical Statements from R&D</label>
                        <div class="ckediter_tolbar">
                            @* <textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.TextAreaFor(m=>m.SupportingTechStmt,new{@class="form-control claimsField",@id="SupportingTechStmt", @cols="30"})

                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Measured By<span class="color-red">*</span></label>
                        <div class="ckediter_tolbar">
                            @*<input type="text" class="form-control" />*@
                            @Html.TextBoxFor(m=>m.CommunicationClaimsMeasuredBy ,new{@class="form-control form-control-sm claimsField",@id="CommunicationClaimsMeasuredBy", @cols="30"})
                            <span id="Err-CommunicationClaimsMeasuredBy" style="display:none;color:red;">Please enter Measured By Value</span>

                        </div>
                    </div>
                </div>


                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Remarks / Restrictions</label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.TextAreaFor(m=>m.CommunicationRemarks,new{@class="form-control claimsField",@id="CommunicationRemarks"})

                        </div>
                    </div>
                </div>


                <div class="col-lg-4 responsible_department_communication">
                    <div class="form-group">
                        <label>
                            Responsible Department<span class="color-red">*</span>
                        </label>
                        <div class="demo-content">
                            @*<textarea name="editor1" cols="30" class="form-control"></textarea>*@
                            @Html.ListBoxFor(model => model.ResponsibleDept, Model.DeptList ?? new List<SelectListItem>(),
                        new { @class = "form-control data-multiselect", @multiple = "multiple",
                        @id="ResponsibleDeptCommunication" })
                        <br>
                            <span id="Err-ResponsibleDeptCommunication" style="display:none;color:red;">Please select ResponsibleDepartment</span>
                        </div>
                    </div>
                </div>


                <div class="col-md-12">
                    <div class="float-right text-left">
                        @if(@Model.Stage <=3){
                            <button type="button" class="btn-add" id="CommunicationClaimsDataAdd">Add</button>
                        }else{
                            <button type="button" class="btn-add" id="CommunicationClaimsWithRemarksAdd">Add</button>
                        }
                    </div>
                </div>

            </div>

            <div class="add_grid_">
                <div class="row">
                    <div class="col-md-12">
                        <div class="">
                            <div class="m-table__main mt-2 mb-4">
                                <div class="m-table__responsive -virtual-scroll">
                                    <table id="CommuniactionClaimsGrid" class="table table-bordered"></table>
                                    <div id="pager_claims_documeent1"></div>
                                    <div id="communication_claims" ></div>
                                    <table id="cft_review_pack_communication"></table>
                                    <div id="cft_review_pack_communication_pager"></div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <h6 class="pro_det">Supporting Documents</h6>

            <div class="row product_profile">

                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Upload Document</label>
                        <div class="demo-content">
                            <input type="file" class="form-control" id="supportingDocument" onchange="return fileValidation()" />
                            <span id="Err-supportingDocument" style="display:none;color:red;">Please upload a Supporting Document</span>
                            <span id="Err_InvalidDocFormat" style="color:red;display:none">The document must be a file of type: pdf, excel, doc</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
            <div class="form-group">
            <label>View Document</label>
            <div class="demo-content pt-2 ps-3">
            <a href="#" data-bs-toggle="modal" data-bs-target="#fileModal"><i class="fa fa-info-circle"></i></a>
            </div>
            </div>
            </div>

            </div>

        </div>

        <div class="row sticky-bottom EditStage edit-buttons" style="display:none;">
            <div class="save_buttons float-right text-right">
                @if (ViewBag.isEdit == "edit")
                {
                    <button type="button" id="claimsSave" class="btn-ap" data-title="Save"> Save</button>
                    <button type="button" class="btn-sb" data-title="Submit" id="SendToCFT">Send To CFT</button>
                }
                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>

            </div>
        </div>
        <div class="row sticky-bottom CFTStageButtons edit-buttons" style="display:none;">
            <div class="save_buttons float-right text-right edit-buttons">
                @if (ViewBag.isEdit == "edit")
                {
                <button type="button" id="CFTSave" class="btn-ap" data-title="Save"> Save</button>

                <button type="button" class="btn-sb" data-title="Submit" id="SendToDSG">Send To DSG</button>
                    
                }

                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>

            </div>
        </div>
        <div class="row sticky-bottom DSGStageButtons edit-buttons" style="display:none;">
            <div class="save_buttons float-right text-right">
                @if (ViewBag.isEdit == "edit")
                {
                    <button type="button" id="DSGSave" class="btn-ap" data-title="Save"> Save</button>

                    <button type="button" class="btn-sb" data-title="Submit" id="SendForApproval">Send For Approval</button>

                }

                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>

            </div>
        </div>
        <div class="row sticky-bottom ManagerApprovalButtons edit-buttons" style="display:none">
            <div class="save_buttons float-right text-right edit-buttons">
                <button type="button" class="btn-add" id="SaveManagerModal" data-title="Save"> Save</button>
                <button type="button" class="btn-sb" id="SendForBackToDSG" data-title="Submit"> Send back to DSG</button>
                <button type="button" class="btn-ap" id="SendForDSGSignOff" data-title="Submit">Approve</button>
                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>
            </div>
        </div>
        <div class="row sticky-bottom DSGSignOff edit-buttons" style="display:none">
            <div class="save_buttons float-right text-right edit-buttons">
                <button type="button" class="btn-add"  data-title="Save" id="SaveAsAddendum">Save as Addendum</button>
                <button type="button" class="btn-ap"  data-title="Save" id="DSGSignOffSave">Save</button>
                @*<button type="button" class="btn-sb"  data-title="Submit" id="SendToCft1">Send To CFT</button>*@
                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>
            </div>
        </div>
        <div class="row sticky-bottom Addendum edit-buttons" style="display:none">
            <div class="save_buttons float-right text-right edit-buttons">
                <button type="button" class="btn-add" data-title="Save" id="AddendumSave"> Save</button>
                <button type="button" class="btn-add" data-title="AddendumSaveUpdate" id="AddendumSaveUpdate"> Save &amp; Update</button>
                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>
            </div>
        </div>
        <div class="row sticky-bottom view-button" style="display:none;">
            <div class="save_buttons float-right text-right">
                <button type="button" class="btn-rej" onclick="location.href = './ClaimsGridDocument';" data-title="Cancel"> Cancel</button>
            </div>
        </div>
    </div>
}
@*save button*@
<div class="modal fade sv hd" id="SaveModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Save Confirmation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want save the details?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="claimsSaveOk">OK</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>

@*Send To DSG*@
<div class="modal fade sv hd" id="SendToDSGModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Send Confirmation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want send to DSG?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="SendToDSGOK">OK</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>

@*Send to CFT*@
<div class="modal fade hd" id="SendCFTModal" tabindex="-1" aria-labelledby="SendCFTModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">CFT Users</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                @* <form autocomplete="off">
                <div class="autocomplete" style="width:300px;">
                <input id="myInput" type="text" name="myCountry" placeholder="Country" class="form-control">
                </div>
                <input type="submit">
                </form>*@
                <form class="row bdr_clr autocomplete">


                    <div class="col-lg-3">
                        <div class="form-group">
                            <label> Department<span class="color-red">*</span></label>
                            @Html.ListBoxFor(model => model.Department, Model.DeptList ?? new List<SelectListItem>(),
                            new { @class = "form-control data-multiselect", @multiple = "multiple",
                            @id="Department" })
                            <span id="Err-Department" style="display:none;color:red;">Please select Department</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group product_profile multisect_grid">
                            <label>CFT Users<span class="color-red">*</span></label>

                            <select class="form-control" multiple="multiple" data-multiselect2 style="display: none;" id="Dept_UsersDropdown">
                            </select>
                            <span id="Error_DeptUsers" class="color-red Error_HgmlData" style="display:none">Please select Department Users</span>
                            <span id="Error_DeptUsersSelected" class="color-red" style="display:none">Please Select Users For All Selected Departments</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Remarks</label>
                            <textarea id="editor" name="editor2" rows="1" cols="30" data-sample-short="" class="form-control"></textarea>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="float-left text-left mt-3 pt-3">
                            <button type="button" class="btn-add" id="CFTUsersAdd">Add</button>
                        </div>
                    </div>
                </form><br />
                <table class="table table-bordered">
                    <thead class="mail_tbl">
                        <tr>
                            <th class="bdr_mail">CFT Users</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <textarea class="form-control form-control-sm closeModal" cols="30" name="SelectedPmdUsersToSendPrototype" id="selectedCFTUsers" readonly="readonly"></textarea>
                                <span class="color-red Error_PopupField" style="display:none" id="Error_SelectCFTUser">Please add aleast one CFT user</span>
                            </td>
                        </tr>
                        <@*tr>
                            <th class="bdr_mail">Additional Users</th>
                        </tr>
                        <tr>
                            <td>
                                <textarea class="form-control form-control-sm closeModal" cols="30" id="additionalUsers"></textarea>
                                <span class="color-red Error_PopupField" style="display:none" id="Error_AddAdditionalUsers">Please add valid user mail id</span>
                            </td>
                        </tr>*@
                    </tbody>
                </table>


            </div>

            <div class="modal-footer">
                <button type="button" class="btn-ap" id="SaveDetails">Save</button>
                <button type="button" class="btn-cnl" data-bs-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>

@*File View Modal*@
<div class="modal fade hd" id="fileModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Supporting Documents</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="panel panel-primary filterable mdp">
                        <div class="id_tbl">
                            <table class="table table-bordered">
                                <thead>
                                    <tr class="bd1">
                                        <th scope="col">Document Name</th>
                                        <th scope="col">Uploaded By</th>
                                        <th scope="col">Uploaded On</th>
                                    </tr>
                                </thead>
                                <tbody class="tb" id="UploadedDocs">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@*CFT REMARKS*@
<div class="modal fade hd" id="cft_remarks" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">CFT REMARKS</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="panel panel-primary filterable mdp">
                        <div class="id_tbl">
                            <table class="table table-bordered" id="cft_remarks_table">
                            </table>
                            <div id="cft_remarks_table_pager"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@*CFT Remarks*@
<div class="modal fade hd" id="CFT_Remarks_Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Submit Confirmation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="panel panel-primary filterable mdp">
                        <div class="id_tbl">
                            <textarea id="DSG_remarks_text1"></textarea>
                            <span id="Error_DSG_remarks_text1" style="display:none;color:red;">Please fill remarks</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="SendToDSGApproval">Save</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
@*DSG REMARKS*@
<div class="modal fade hd" id="DSG_Remarks" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Approval Remarks</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="panel panel-primary filterable mdp">
                        <div class="id_tbl">
                            <textarea id="DSG_remarks_text"></textarea>
                            <span id="Error_DSG_remarks_text" style="display:none;color:red;">Please fill remarks</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="SendToApproval">Save</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
@*For Delete Files Confirmation*@
<div class="modal fade sv hd" id="DeleteClaimsPOPUp" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Confirmation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="confirmation_message">
                Are you sure you want to delete?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="claimsDeleteOk">OK</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
@*onpack claims support and measured by pop up*@
<div class="modal fade hd" id="onpackclaims_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Supporting Technical Statements from R&D and Measured By</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="panel">
                        <div id="textarea-container">
                            <div class="textarea-row row">
                                <div class="col-md-10">
                                    <table id="onpack_claims_modal_table">
                                        <thead>
                                            <tr>
                                                <th>Supporting Technical Statements From R&D</th>
                                                <th>Measured By</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="paddingRight">
                                                    <textarea name="textarea1" rows="2" cols="50" class="form-control form-control-sm mt-2"></textarea>
                                                    <span style="color:red; display:none">Please Enter Support Statements</span>
                                                </td>
                                                <td class="paddingLeft">
                                                    <textarea name="textarea2" rows="2" cols="50" class="form-control form-control-sm mt-2"></textarea>
                                                    <span style="color:red; display:none">Please Enter Measured by</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-2">
                                    <button id="add_onpack_support_measuredby" class="btn-add">Add</button>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-add" id="onpack_claims_modal_save">Save</button>
                <button type="button" class="btn-rej" data-bs-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>

@*communication claims support and measured by pop up*@
<div class="modal fade hd" id="communicationclaims_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Supporting Technical Statements from R&D and Measured By</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="panel">
                        <div id="textarea-container">
                            <div class="textarea-row row">
                                <div class="col-md-10">
                                    <table id="communication_claims_modal_table">
                                        <thead>
                                            <tr>
                                                <th>Supporting Technical Statements From R&D</th>
                                                <th>Measured By</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="paddingRight">
                                                    <textarea name="textarea1" rows="2" cols="50" class="form-control form-control-sm mt-2"></textarea>
                                                    <span style="color:red; display:none">Please Enter Support Statements</span>
                                                </td>
                                                <td class="paddingLeft">
                                                    <textarea name="textarea2" rows="2" cols="50" class="form-control form-control-sm mt-2"></textarea>
                                                    <span style="color:red; display:none">Please Enter Measured by</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-2">
                                    <button id="add_communication_support_measuredby" class="btn-add">Add</button>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-add" id="communication_claims_modal_save">Save</button>
                <button type="button" class="btn-rej" data-bs-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
<div id="downloadContainer">
        <!-- The download link will be inserted here -->
</div>
<div class="GenerateClaimsPdf" hidden></div>
<div class="Header" hidden></div>
<div id="isEdit" data-isedit="@ViewBag.isEdit" hidden></div>

<script src="~/js/EditClaims.js"></script>