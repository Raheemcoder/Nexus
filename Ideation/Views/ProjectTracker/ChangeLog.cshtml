@{
    ViewData["Title"] = "Change Log";
    Layout = "/Views/Shared/ProjectTrackerLayout.cshtml";
}
<script src="@Url.Content("~/assets_EPPM/js/jquery-ui.js")"></script>

<style>
    .list_badge .m-table__main .table td:nth-child(1) {
        padding: 5px 8px !important;
    }

    .list_badge .ui-jqgrid .ui-jqgrid-htable th {
        padding: 4px 17px !important;
    }

    .list_badge .jqgfirstrow {
        display: none
    }

    .jqgfirstrow {
        display: contents;
    }

        .jqgfirstrow td {
            padding: 0px;
        }

    .jqg-second-row-header th.ui-state-default.ui-th-column-header.ui-th-ltr {
        text-align: center !important;
    }

    .fa-plus-circle {
        font-size: 16px;
    }

    .issue_list .ui-jqgrid .ui-jqgrid-btable tr.jqgrow td {
        white-space: initial !important;
        border: 1px solid #e6e6e6 !important;
    }

    .col-width2 {
        width: 10%;
        float: left;
        padding: 0px 3px;
    }

    .col-width3 {
        width: 19%;
        float: left;
        padding: 0px 3px;
    }

    .col-width1 {
        width: 9.5%;
        float: left;
        margin: 0 2px;
        padding: 0px 3px;
    }

    .col-width {
        width: 6%;
        float: left;
        margin: 0 2px;
        padding: 0px 3px;
    }

    .width_100 {
        float: left;
        width: 100%;
    }

    .m-table__main .table .jqgfirstrow td {
        padding: 0px !important;
    }

    .ui-jqgrid .ui-jqgrid-btable tr.jqgrow td {
        padding: 3px !important;
    }

    .col-width4 {
        width: 33%;
        float: left;
        padding: 0px 3px;
        margin-left: 10px;
    }

    select.form-control {
        padding: 3px !important;
        text-align: left;
        line-height: 1 !important;
        height: 22px !important;
    }

    input.form-control {
        padding: 3px !important;
    }

    .dedas td {
        display: none;
    }

    .deleteFirstRow td.delete {
        display: none;
    }

    .fullscreen_btn .second_header {
        display: none !important;
    }

    .fullscreen_btn .ui-jqgrid-bdiv {
        max-height: 71vh !important;
    }

    .modal .ui-jqgrid td textarea {
        width: 100%;
        padding: 3px !important;
        line-height: 1.2;
    }

    div#add_edit {
        background: #0000008a;
    }

    div#task_list {
        background: #00000045;
    }

    .change_log .col-width2 {
        width: 13%;
    }
</style>

<section>
    <div class="">
        <div class="-m_title_ ">
            <h4><span><a href="@Url.Content("~/Landing/Index")">Home/ </a></span> Change Log</h4>
        </div>
    </div>
</section>
<section>
    @*<div class="row">
            <div class="text-right">
                <div data-toggle="modal" data-target="#add_edit">
                    <i class="fas fa-plus text-info"></i>
                </div>
            </div>
        </div>*@
    <div class="row">
        <div class="col-width3">
            <div class="form-group">
                <label class="control-label">Change Details <span class="text-danger">*</span></label>
                <textarea class="form-control" rows="1" name=""></textarea>
            </div>
        </div>
        <div class="col-width2">
            <div class="form-group">
                <label class="control-label">Change Proposed Date <span class="text-danger">*</span></label>
                <input type="text" class="form-control" data-datepicker name="" />
            </div>
        </div>
        <div class="col-width2">
            <div class="form-group">
                <label class="control-label">Change Proposed By <span class="text-danger">*</span></label>
                <input type="text" class="form-control" name="" />
            </div>
        </div>
        <div class="col-width2">
            <div class="form-group">
                <label class="control-label">Impact Area <span class="text-danger">*</span></label>
                <select class="form-control" multiple="multiple" data-multiselect>
                    <option>Timeline</option>
                    <option>Scope</option>
                    <option>Cost</option>
                    <option>Quality</option>
                </select>
            </div>
        </div>
        <div class="col-width3">
            <div class="form-group">
                <label class="control-label">Impact Description <span class="text-danger">*</span></label>
                <textarea class="form-control" rows="1" name=""></textarea>
            </div>
        </div>
        <div class="col-width1">
            <div class="form-group">
                <label class="control-label">Impacted Task <span class="text-danger">*</span></label>
                @*<input type="text" class="form-control" />*@
                <div class="mt-2 ml-2" data-toggle="modal" data-target="#task_list"><i class="fas fa-list"></i></div>
            </div>
        </div>
        <div class="col-width">
            <div class="form-group">
                <label class="control-label">Actions <span class="text-danger">*</span></label>
                @*<input type="text" class="form-control" />*@
                <div class="mt-2 ml-2" data-toggle="modal" data-target="#add_edit"><i class="fas fa-plus-circle"></i></div>
            </div>
        </div>
        <div class="col-width mt-4">
            <button type="button" class="btn btn-success mr-1" data-toggle="modal" data-target="#add_edit">Add</button>
        </div>
        <div class="col-width mt-4">
            <div class="d-flex justify-content-end align-items-center">

                <div class="d-flex excel_expand align-items-center">

                    <div class="images_excel ">
                        <img src="~/N_assets/images/excel.png" />
                    </div>
                    <div>
                        <div class="expand_initiate table_expand">
                            <div>
                                <button onclick="$(document).toggleFullScreen()" class="js-toggle-fullscreen-btn toggle-fullscreen-btn" aria-label="Enter fullscreen mode">
                                    <i class="fas fa-expand fullscreen_expand fullscreen-btn "></i>
                                    <i class="fas fa-times fullscreen_minimize exitscreen-btn"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    @*<div class="ml-2">
                            <button type="button" class="btn btn-draft" data-toggle="modal" data-target="#addmilestone">Add New Milestone</button>
                        </div>*@
                </div>
            </div>
        </div>
    </div>
</section>
<section>
    <div class="animate__animated2 slideInUp mt-1">
        <div class="">
            <div class="">
                <div class="row">
                    <div class="m-table__main grid_height issue_list">
                        <div class="m-table__responsive -virtual-scroll">
                            <table id="issuetracker" class="table table-bordered"></table>
                            <div id="issuetracker_pager"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<div id="edit_popup" class="modal fade change_log" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Edit Change Log</h4>
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-width3">
                        <div class="form-group">
                            <label class="control-label">Change Details <span class="text-danger">*</span></label>
                            <textarea class="form-control" rows="1" value="Face wash packaging to be changed from tube to pump">Face wash packaging to be changed from tube to pump	</textarea>
                        </div>
                    </div>
                    <div class="col-width2">
                        <div class="form-group">
                            <label class="control-label">Change Proposed Date <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" data-datepicker name="12/7/2023" />
                        </div>
                    </div>
                    <div class="col-width2">
                        <div class="form-group">
                            <label class="control-label">Change Proposed By <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" value="Jithin PK" />
                        </div>
                    </div>
                    <div class="col-width2">
                        <div class="form-group">
                            <label class="control-label">Impact Area <span class="text-danger">*</span></label>
                            <select class="form-control" multiple="multiple" data-multiselect>
                                <option>Timeline</option>
                                <option>Scope</option>
                                <option>Cost</option>
                                <option>Quality</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-width3">
                        <div class="form-group">
                            <label class="control-label">Impact Description <span class="text-danger">*</span></label>
                            <textarea class="form-control" rows="1" name="">This change will require the following: 1. Procurement of additional change parts at CMO, will require additional cost approval 2. Additional packaging trials, this will impact the project timelines
                            </textarea>
                        </div>
                    </div>
                    <div class="col-width1">
                        <div class="form-group">
                            <label class="control-label">Impacted Task <span class="text-danger">*</span></label>
                            @*<input type="text" class="form-control" />*@
                            <div class="mt-2 ml-2" data-toggle="modal" data-target="#task_list"><i class="fas fa-list"></i></div>
                        </div>
                    </div>
                </div>
                <div class="animate__animated2 slideInUp mt-1">
                    <div class="">
                        <div class="">
                            <div class="row">
                                <div class="m-table__main grid_height">
                                    <div class="m-table__responsive -virtual-scroll">
                                        <table id="edittracker" class="table table-bordered"></table>
                                        <div id="edit_pager"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="text-right mt-3">
                        <button type="button" class="btn btn-success mr-1">Save</button>
                        <button type="button" class="btn btn-cancel mr-1" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="add_edit" class="modal fade " role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Change Log</h4>
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right">
                            <button class="btn btn-success add_new">Add</button>
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Action Item <span class="text-danger">*</span></label>
                            <textarea class="form-control" rows="1"></textarea>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Assigned To <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Change Request Status <span class="text-danger">*</span></label>
                            <select class="form-control" data-singleselect>
                                <option>Select</option>
                                <option>Agreed</option>
                                <option>Rejected</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Agree Rejected Date <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" data-datepicker />
                        </div>
                    </div>

                    @*<div class="text-right">
                            <button class="btn btn-cancel delete_form">Delete</button>
                        </div>*@
                </div>
                <div class="row add_fields">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Action Item <span class="text-danger">*</span></label>
                            <textarea class="form-control" rows="1"></textarea>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Assigned To <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Change Request Status <span class="text-danger">*</span></label>
                            <select class="form-control" data-singleselect>
                                <option>Select</option>
                                <option>Not Started</option>
                                <option>In Progress</option>
                                <option>Closed</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                            <label class="control-label">Agree Rejected Date <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" data-datepicker />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="">
                            <div class="mt-3 pt-1">
                                <button class="btn btn-cancel delete_form"><i class="fas fa-trash "></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="text-right mt-3">
                        <button type="button" class="btn btn-success mr-1">Save</button>
                        <button type="button" class="btn btn-cancel mr-1" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="task_list" class="modal fade " role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Impacted Task</h4>
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="m-table__main grid_height">
                        <div class="m-table__responsive -virtual-scroll">
                            <table id="task_grid" class="table table-bordered"></table>
                            <div id="task_pager"></div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="text-right mt-3">
                        <button type="button" class="btn btn-success mr-1">Save</button>
                        <button type="button" class="btn btn-cancel mr-1" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="@Url.Content("~/js/ProjectTracker/ChangeLog.js")"></script>

